{"version":3,"sources":["webpack:///10-6c7fdf65414f50ce6020.js","webpack:///./~/d2-ui/lib/component-helpers/withStateFrom.js?787e******","webpack:///./~/d2-utilizr/lib/noop.js?5fa0**","webpack:///./src/App/AccessDenied.component.js","webpack:///./src/OrganisationUnitHierarchy/OrganisationUnitHierarchy.component.js","webpack:///./src/OrganisationUnitHierarchy/searchForOrganisationUnitsWithinHierarchy.js","webpack:///./src/OrganisationUnitTree/OrganisationUnitTreeWithSingleSelectionAndSearch.component.js"],"names":["webpackJsonp","3686","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__OrganisationUnitHierarchy_component__","d","3733","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","withStateFrom","stateSource$","BaseComponent","withStateForm","_Component","this","getPrototypeOf","apply","arguments","_createClass","key","_this2","disposable","subscribe","state","setState","error","__WEBPACK_IMPORTED_MODULE_1_loglevel___default","a","unsubscribe","__WEBPACK_IMPORTED_MODULE_0_react___default","createElement","_extends","props","__WEBPACK_IMPORTED_MODULE_0_react__","displayName","name","n","__WEBPACK_IMPORTED_MODULE_1_loglevel__","assign","target","i","length","source","hasOwnProperty","defineProperties","descriptor","protoProps","staticProps","4446","exports","noop","default","4935","AccessDenied","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__","4982","_asyncToGenerator","fn","gen","Promise","resolve","reject","step","arg","info","done","then","err","_toConsumableArray","arr","Array","isArray","arr2","from","_defineProperty","obj","identity","v","onClickLeft","event","model","hierarchy$","take","hierarchy","selectAllChildren","shiftKey","selectedLeft","modelIdsToRemove","filter","m","id","map","children","toArray","childrenToAdd","child","findIndex","push","indexOf","_hierarchy$selectedLe","concat","__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__","reload","setHierarchyProcessingStatus","status","isProcessing","changeOrganisationUnitParentAndSave","organisationUnit","combineLatest","d2$","flatMap","_ref6","_ref7","_slicedToArray","d2","parent","selectedRight","movingStatus","save","i18n","getTranslation","ouName","catch","e","errorMessage","__WEBPACK_IMPORTED_MODULE_9_rxjs__","fromPromise","moveOrganisationUnit","do","ouIds","getOrganisationUnitByIds","concatAll","message","__WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__","show","translate","initiallySelected","moveTargetPath","path","leftRoots","rightRoots","rootId","RegExp","test","reduce","setTimeout","onClickRight","SelectedOrganisationUnitList","context","styles","title","color","marginBottom","padding","display","list","paddingLeft","listItems","organisationUnits","noOrganisationUnitsMessage","style","hasEqualElement","left","right","selector","some","item","splitOuPath","undefined","split","part","sourceIsInPathOfTarget","__WEBPACK_IMPORTED_MODULE_13_loglevel___default","warn","targetModel","sourceModel","moveButtonDisabled","OrganisationUnitHierarchy","wrap","flex","flexOrientation","margin","ouTreeLeft","marginRight","ouTreeRight","moveButton","width","marginTop","pendingOperationsWrap","pendingOperationsListsWrap","flexDirection","pendingOperationsList","lineHeight","alignItems","errorIcon","currentUser","authorities","has","__WEBPACK_IMPORTED_MODULE_15__App_AccessDenied_component__","buttonLabel","ouCount","headingTitle","warningForMovingWithinSubtree","initiallyExpandedRight","initiallyExpanded","__WEBPACK_IMPORTED_MODULE_11_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_2__OrganisationUnitTree_OrganisationUnitTreeWithSingleSelectionAndSearch_component__","roots","selected","onSelectClick","onUpdateInput","leftTreeSearch","idsThatShouldBeReloaded","noHitsLabel","forceReloadChildren","rightTreeSearch","hideCheckboxes","hideMemberCount","SelectedOrganisationUnitListWithContext","__WEBPACK_IMPORTED_MODULE_14_material_ui_FontIcon_FontIcon___default","className","__WEBPACK_IMPORTED_MODULE_6_material_ui_RaisedButton_RaisedButton___default","primary","label","onClick","disabled","__WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_action_Action__","__WEBPACK_IMPORTED_MODULE_6_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_component_helpers_addD2Context__","__WEBPACK_IMPORTED_MODULE_8_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_12__searchForOrganisationUnitsWithinHierarchy__","__WEBPACK_IMPORTED_MODULE_13_loglevel__","__WEBPACK_IMPORTED_MODULE_14_material_ui_FontIcon_FontIcon__","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","_ref5","regeneratorRuntime","mark","_callee","ids","_context","prev","sent","models","join","fields","paging","abrupt","stop","_x","merge","action","side","debounceTime","data","_ref","complete","of","result","_ref2","_ref3","userOrganisationUnits","organisationUnitHierarchy$","_ref4","_ref4$hierarchy","defaultProps","4983","__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_1__App_appStateStore__","searchForOrganisationUnitsWithinHierarchy","searchValue","organisationUnitsThatMatchQuery","limit","trim","getState","ou","query","withinUserHierarchy","pageSize","4985","OrganisationUnitTreeWithSingleSelectionAndSearch","labelStyle","whiteSpace","fontStyle","position","__WEBPACK_IMPORTED_MODULE_1_material_ui_AutoComplete_AutoComplete___default","hintText","onNewRequest","onAutoCompleteValueSelected","dataSource","autoCompleteDataSource","noFilter","root","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_org_unit_tree_OrgUnitTree_component__","__WEBPACK_IMPORTED_MODULE_1_material_ui_AutoComplete_AutoComplete__","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop__","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default","propTypes","onOrgUnitSearch","PropTypes","func","array","onChangeSelectedOrgUnit","searchOrganisationUnits","string","isRequired","bool"],"mappings":"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","file":"10-6c7fdf65414f50ce6020.js","sourcesContent":["webpackJsonp([10],{\n\n/***/ 3686:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OrganisationUnitHierarchy_component__ = __webpack_require__(4982);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return __WEBPACK_IMPORTED_MODULE_0__OrganisationUnitHierarchy_component__[\"a\"]; });\n\n\n/***/ }),\n\n/***/ 3733:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = withStateFrom;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nfunction withStateFrom(stateSource$, BaseComponent) {\n    var withStateForm = function (_Component) {\n        _inherits(withStateForm, _Component);\n\n        function withStateForm() {\n            _classCallCheck(this, withStateForm);\n\n            return _possibleConstructorReturn(this, (withStateForm.__proto__ || Object.getPrototypeOf(withStateForm)).apply(this, arguments));\n        }\n\n        _createClass(withStateForm, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                var _this2 = this;\n\n                this.disposable = stateSource$.subscribe(function (state) {\n                    return _this2.setState(state);\n                }, function (error) {\n                    return __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.error(error);\n                });\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this.disposable && this.disposable.unsubscribe && this.disposable.unsubscribe();\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(BaseComponent, _extends({}, this.state, this.props));\n            }\n        }]);\n\n        return withStateForm;\n    }(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\n    withStateForm.displayName = BaseComponent.displayName || BaseComponent.name;\n\n    return withStateForm;\n}\n\n/***/ }),\n\n/***/ 4446:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = noop;\nfunction noop() {}\n//# sourceMappingURL=noop.js.map\n\n/***/ }),\n\n/***/ 4935:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = AccessDenied;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__ = __webpack_require__(310);\n\n\n\nfunction AccessDenied() {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n            null,\n            'Access denied!'\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'p',\n            null,\n            'Unfortunately you do not have access to this functionality.'\n        )\n    );\n}\n\n/***/ }),\n\n/***/ 4982:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper__ = __webpack_require__(312);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__OrganisationUnitTree_OrganisationUnitTreeWithSingleSelectionAndSearch_component__ = __webpack_require__(4985);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__ = __webpack_require__(3733);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__App_appStateStore__ = __webpack_require__(315);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_action_Action__ = __webpack_require__(128);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(109);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_lib_d2__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_d2_ui_lib_headings_Heading_component__ = __webpack_require__(310);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__searchForOrganisationUnitsWithinHierarchy__ = __webpack_require__(4983);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_loglevel__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_material_ui_FontIcon_FontIcon__ = __webpack_require__(1652);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_material_ui_FontIcon_FontIcon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_material_ui_FontIcon_FontIcon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__App_AccessDenied_component__ = __webpack_require__(4935);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar getOrganisationUnitByIds = function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(ids) {\n        var d2, organisationUnits;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        _context.next = 2;\n                        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_d2_lib_d2__[\"getInstance\"])();\n\n                    case 2:\n                        d2 = _context.sent;\n                        _context.next = 5;\n                        return d2.models.organisationUnit.list({ filter: ['id:in:[' + ids.join(',') + ']'], fields: ':owner,href,id,parent,displayName,path,children[id,displayName,path]', paging: false });\n\n                    case 5:\n                        organisationUnits = _context.sent;\n                        return _context.abrupt('return', organisationUnits.toArray());\n\n                    case 7:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    return function getOrganisationUnitByIds(_x) {\n        return _ref5.apply(this, arguments);\n    };\n}();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction identity(v) {\n    return v;\n}\n\nvar d2$ = __WEBPACK_IMPORTED_MODULE_9_rxjs__[\"Observable\"].fromPromise(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_d2_lib_d2__[\"getInstance\"])());\n\nvar hierarchy$ = __WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].map(function (state) {\n    return state.hierarchy || {};\n});\n\nvar rightTreeSearch = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_action_Action__[\"a\" /* default */].create('rightTreeSearch', 'Hierarchy');\nvar leftTreeSearch = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_action_Action__[\"a\" /* default */].create('leftTreeSearch', 'Hierarchy');\n\n__WEBPACK_IMPORTED_MODULE_9_rxjs__[\"Observable\"]\n// Merge the search action streams for the left and right side trees as we handle them the same\n.merge(leftTreeSearch.map(function (action) {\n    return _extends({}, action, { side: 'left' });\n}).debounceTime(400), rightTreeSearch.map(function (action) {\n    return _extends({}, action, { side: 'right' });\n}).debounceTime(400))\n// Only search when we have values\n.filter(function (action) {\n    return action.data;\n})\n// Do the actual search\n.map(function (_ref) {\n    var complete = _ref.complete,\n        error = _ref.error,\n        data = _ref.data,\n        side = _ref.side;\n    return __WEBPACK_IMPORTED_MODULE_9_rxjs__[\"Observable\"].fromPromise(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__searchForOrganisationUnitsWithinHierarchy__[\"a\" /* default */])(data, 50)).map(function (organisationUnits) {\n        return { complete: complete, error: error, organisationUnits: organisationUnits, side: side };\n    });\n})\n// Make sure we only take the latest\n.concatAll()\n// Grab the current state from the appState\n.flatMap(function (v) {\n    return __WEBPACK_IMPORTED_MODULE_9_rxjs__[\"Observable\"].of(v).combineLatest(hierarchy$.take(1), function (result, hierarchy) {\n        return { result: result, hierarchy: hierarchy };\n    });\n})\n// Update the app state with the result\n.subscribe(function (_ref2) {\n    var result = _ref2.result,\n        hierarchy = _ref2.hierarchy;\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"c\" /* setAppState */])({\n        hierarchy: _extends({}, __WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy, _defineProperty({}, result.side + 'Roots', result.organisationUnits))\n    });\n});\n\n// Reset the trees to the userOrganisationUnits when no search value was found\n__WEBPACK_IMPORTED_MODULE_9_rxjs__[\"Observable\"].merge(\n// Emit for the empty left searchfield\nleftTreeSearch.filter(function (action) {\n    return !action.data;\n}).map(function () {\n    return 'left';\n}),\n// Emit for the empty right searchfield\nrightTreeSearch.filter(function (action) {\n    return !action.data;\n}).map(function () {\n    return 'right';\n})).flatMap(function (side) {\n    return __WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].take(1).map(function (state) {\n        return { side: side, state: state };\n    });\n}).subscribe(function (_ref3) {\n    var side = _ref3.side,\n        state = _ref3.state;\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"c\" /* setAppState */])({\n        hierarchy: _extends({}, state.hierarchy, _defineProperty({}, side + 'Roots', state.userOrganisationUnits.toArray()))\n    });\n});\n\nvar organisationUnitHierarchy$ = __WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].map(function (_ref4) {\n    var _ref4$hierarchy = _ref4.hierarchy,\n        hierarchy = _ref4$hierarchy === undefined ? {} : _ref4$hierarchy,\n        userOrganisationUnits = _ref4.userOrganisationUnits;\n    return {\n        roots: userOrganisationUnits.toArray(),\n        leftRoots: hierarchy.leftRoots,\n        rightRoots: hierarchy.rightRoots,\n        initiallyExpanded: userOrganisationUnits.toArray().map(function (model) {\n            return model.path;\n        }),\n        moveTargetPath: hierarchy.moveTargetPath || null,\n        selectedLeft: hierarchy.selectedLeft || [],\n        selectedRight: hierarchy.selectedRight || [],\n        isProcessing: hierarchy.isProcessing,\n        reload: hierarchy.reload\n    };\n});\n\nfunction onClickLeft(event, model) {\n    hierarchy$.take(1) // Only grab the current state\n    .subscribe(function (hierarchy) {\n        var selectAllChildren = event.shiftKey;\n\n        var selectedLeft = [];\n\n        var modelIdsToRemove = hierarchy.selectedLeft.filter(function (m) {\n            return m.id === model.id;\n        }).map(function (m) {\n            return m.id;\n        });\n\n        var children = model.children.toArray();\n        var childrenToAdd = [];\n\n        // add all children that is not already selected if shift-clicked\n        if (selectAllChildren) {\n            childrenToAdd = children.filter(function (child) {\n                return hierarchy.selectedLeft.findIndex(function (m) {\n                    return m.id === child.id;\n                }) < 0;\n            });\n        }\n\n        // remove selection if already present\n        if (modelIdsToRemove.length > 0) {\n            if (selectAllChildren) {\n                modelIdsToRemove.push.apply(modelIdsToRemove, _toConsumableArray(children.map(function (child) {\n                    return child.id;\n                })));\n            }\n            selectedLeft = hierarchy.selectedLeft.filter(function (m) {\n                return modelIdsToRemove.indexOf(m.id) < 0;\n            });\n        } else {\n            var _hierarchy$selectedLe;\n\n            selectedLeft = (_hierarchy$selectedLe = hierarchy.selectedLeft).concat.apply(_hierarchy$selectedLe, [model].concat(_toConsumableArray(childrenToAdd)));\n        }\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"c\" /* setAppState */])({\n            hierarchy: _extends({}, hierarchy, {\n                reload: [],\n                selectedLeft: selectedLeft\n            })\n        });\n    });\n}\n\nfunction setHierarchyProcessingStatus(hierarchy, status) {\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"c\" /* setAppState */])({\n        hierarchy: _extends({}, hierarchy, {\n            isProcessing: status\n        })\n    });\n}\n\nfunction changeOrganisationUnitParentAndSave(organisationUnit) {\n    return hierarchy$.take(1).combineLatest(d2$).flatMap(function (_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 2),\n            hierarchy = _ref7[0],\n            d2 = _ref7[1];\n\n        organisationUnit.parent = { id: hierarchy.selectedRight[0] && hierarchy.selectedRight[0].id };\n\n        var movingStatus = organisationUnit.save().then(function () {\n            return d2.i18n.getTranslation('successfully_moved_$$ouName$$', { ouName: organisationUnit.displayName });\n        }).catch(function (e) {\n            return d2.i18n.getTranslation('failed_to_move_$$ouName$$_($$errorMessage$$)', {\n                ouName: organisationUnit.displayName,\n                errorMessage: e\n            });\n        });\n\n        return __WEBPACK_IMPORTED_MODULE_9_rxjs__[\"Observable\"].fromPromise(movingStatus);\n    });\n}\n\nfunction moveOrganisationUnit() {\n    hierarchy$.take(1).do(function (hierarchy) {\n        return setHierarchyProcessingStatus(hierarchy, true);\n    }).map(function (hierarchy) {\n        return (hierarchy.selectedLeft || []).map(function (model) {\n            return model.id;\n        });\n    }).flatMap(function (ouIds) {\n        return __WEBPACK_IMPORTED_MODULE_9_rxjs__[\"Observable\"].fromPromise(getOrganisationUnitByIds(ouIds)).flatMap(identity);\n    }).map(changeOrganisationUnitParentAndSave).concatAll().subscribe(function (message) {\n        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: message, translate: false });\n    }, function (e) {\n        setHierarchyProcessingStatus(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy, false);\n    }, function () {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"c\" /* setAppState */])({\n            hierarchy: _extends({}, __WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy, {\n                selectedLeft: [],\n                selectedRight: [],\n                initiallySelected: [],\n                moveTargetPath: __WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy.selectedRight[0].path,\n                reload: [].concat(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy.selectedRight.map(function (model) {\n                    return model.id;\n                })).concat(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy.selectedLeft.map(function (model) {\n                    if (model.parent && model.parent.id) {\n                        return model.parent.id;\n                    }\n                    return __WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy.leftRoots.concat(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy.rightRoots).map(function (value) {\n                        return value.id;\n                    }).filter(function (rootId) {\n                        return new RegExp(rootId).test(model.path);\n                    }).reduce(function (value) {\n                        return value;\n                    });\n                }))\n            })\n        });\n\n        // Wait till stack clears before setting isProcessing to false and triggering a rerender\n        // Without this the UI represents a stale state\n        setTimeout(function () {\n            setHierarchyProcessingStatus(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"b\" /* default */].state.hierarchy, false);\n        }, 0);\n    });\n}\n\nfunction onClickRight(event, model) {\n    hierarchy$.take(1) // Only grab the current state\n    .subscribe(function (hierarchy) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__App_appStateStore__[\"c\" /* setAppState */])({\n            hierarchy: _extends({}, hierarchy, {\n                reload: [],\n                selectedRight: [model],\n                moveTargetPath: null\n            })\n        });\n    });\n}\n\nfunction SelectedOrganisationUnitList(props, context) {\n    var styles = {\n        title: {\n            color: '#666',\n            marginBottom: '.5rem'\n        },\n        message: {\n            color: '#666',\n            padding: '.5rem',\n            display: 'block'\n        },\n        list: {\n            paddingLeft: '1.5rem'\n        }\n    };\n\n    var listItems = props.organisationUnits.map(function (model) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'li',\n            { key: model.id },\n            model.displayName\n        );\n    });\n\n    var noOrganisationUnitsMessage = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'span',\n        { style: styles.message },\n        context.d2.i18n.getTranslation(props.noOrganisationUnitsMessage)\n    );\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { style: props.style },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: styles.title },\n            context.d2.i18n.getTranslation(props.title)\n        ),\n        listItems.length ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'ul',\n            { style: styles.list },\n            listItems\n        ) : noOrganisationUnitsMessage\n    );\n}\nSelectedOrganisationUnitList.defaultProps = {\n    organisationUnits: []\n};\n\nvar SelectedOrganisationUnitListWithContext = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(SelectedOrganisationUnitList);\n\nfunction hasEqualElement(left, right, selector) {\n    return left.map(selector).some(function (item) {\n        return right.map(selector).indexOf(item) >= 0;\n    });\n}\n\nfunction splitOuPath() {\n    var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    return path.split('/').filter(function (part) {\n        return part;\n    });\n}\n\nfunction sourceIsInPathOfTarget(source, target) {\n    if (source.some(function (model) {\n        return !model.path;\n    }) || target.some(function (model) {\n        return !model.path;\n    })) {\n        __WEBPACK_IMPORTED_MODULE_13_loglevel___default.a.warn('No path found, so can not run hierarchy validation');\n        return true;\n    }\n\n    if (target.length !== 1) {\n        __WEBPACK_IMPORTED_MODULE_13_loglevel___default.a.warn('More than/less than 1 target found, can not move.');\n        return true;\n    }\n\n    var targetModel = target[0];\n\n    return source.some(function (sourceModel) {\n        return splitOuPath(targetModel.path).indexOf(sourceModel.id) >= 0;\n    });\n}\n\nfunction moveButtonDisabled(props) {\n    return props.isProcessing || !props.selectedLeft.length || !props.selectedRight.length || hasEqualElement(props.selectedLeft, props.selectedRight, function (v) {\n        return v && v.id;\n    }) || sourceIsInPathOfTarget(props.selectedLeft, props.selectedRight);\n}\n\nfunction OrganisationUnitHierarchy(props, context) {\n    var styles = {\n        wrap: {\n            flex: 1,\n            display: 'flex',\n            flexOrientation: 'row',\n            margin: '1rem 0'\n        },\n        ouTreeLeft: {\n            flex: 1,\n            marginRight: '2rem',\n            padding: '1rem'\n        },\n        ouTreeRight: {\n            flex: 1,\n            padding: '1rem'\n        },\n        moveButton: {\n            width: '100%',\n            marginBottom: '1rem',\n            marginTop: '1rem'\n        },\n        pendingOperationsWrap: {\n            padding: '1rem',\n            margin: '1rem 0'\n        },\n        pendingOperationsListsWrap: {\n            display: 'flex',\n            flexDirection: 'row'\n        },\n        pendingOperationsList: {\n            flex: 1,\n            padding: '.5rem'\n        },\n        errorMessage: {\n            color: 'orange',\n            lineHeight: '1.5rem',\n            padding: '1rem 0',\n            display: 'flex',\n            alignItems: 'flex-end'\n        },\n        errorIcon: {\n            color: 'orange'\n        }\n    };\n\n    if (!context.d2.currentUser.authorities.has('F_ORGANISATIONUNIT_MOVE')) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_15__App_AccessDenied_component__[\"a\" /* default */], null);\n    }\n\n    var buttonLabel = context.d2.i18n.getTranslation('move_$$ouCount$$_organisation_units', { ouCount: props.selectedLeft && props.selectedLeft.length || 0 });\n    var headingTitle = context.d2.i18n.getTranslation('hierarchy_operations');\n    var warningForMovingWithinSubtree = context.d2.i18n.getTranslation('you_can_not_move_higher_level_organisation_units_to_its_descendants');\n    var initiallyExpandedRight = props.moveTargetPath ? [].concat(_toConsumableArray(props.initiallyExpanded), [props.moveTargetPath]) : props.initiallyExpanded;\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_11_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n            null,\n            headingTitle\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: styles.wrap },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper___default.a,\n                { style: styles.ouTreeLeft },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__OrganisationUnitTree_OrganisationUnitTreeWithSingleSelectionAndSearch_component__[\"a\" /* default */], {\n                    roots: props.leftRoots,\n                    initiallyExpanded: props.initiallyExpanded,\n                    selected: props.selectedLeft.map(function (model) {\n                        return model.path;\n                    }),\n                    onSelectClick: onClickLeft,\n                    onUpdateInput: function onUpdateInput(value) {\n                        return leftTreeSearch(value);\n                    },\n                    idsThatShouldBeReloaded: props.reload,\n                    noHitsLabel: context.d2.i18n.getTranslation('no_matching_organisation_units'),\n                    forceReloadChildren: true\n                })\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper___default.a,\n                { style: styles.ouTreeRight },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__OrganisationUnitTree_OrganisationUnitTreeWithSingleSelectionAndSearch_component__[\"a\" /* default */], {\n                    roots: props.rightRoots,\n                    selected: props.selectedRight.map(function (model) {\n                        return model.path;\n                    }),\n                    initiallyExpanded: initiallyExpandedRight,\n                    onSelectClick: onClickRight,\n                    onUpdateInput: function onUpdateInput(value) {\n                        return rightTreeSearch(value);\n                    },\n                    idsThatShouldBeReloaded: props.reload,\n                    noHitsLabel: context.d2.i18n.getTranslation('no_matching_organisation_units'),\n                    hideCheckboxes: true,\n                    hideMemberCount: true,\n                    forceReloadChildren: true\n                })\n            )\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_1_material_ui_Paper_Paper___default.a,\n            { style: styles.pendingOperationsWrap },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: styles.pendingOperationsListsWrap },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(SelectedOrganisationUnitListWithContext, {\n                    style: styles.pendingOperationsList,\n                    organisationUnits: props.selectedLeft,\n                    noOrganisationUnitsMessage: 'select_organisation_units_to_move_from_the_left_tree',\n                    title: 'move'\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(SelectedOrganisationUnitListWithContext, {\n                    style: styles.pendingOperationsList,\n                    organisationUnits: props.selectedRight,\n                    noOrganisationUnitsMessage: 'select_new_parent_for_organisation_units_from_the_right_tree',\n                    title: 'new_parent'\n                })\n            )\n        ),\n        props.selectedLeft.length && props.selectedRight.length && sourceIsInPathOfTarget(props.selectedLeft || [], props.selectedRight || []) ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: styles.errorMessage },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_14_material_ui_FontIcon_FontIcon___default.a,\n                { style: styles.errorIcon, className: 'material-icons' },\n                'warning'\n            ),\n            warningForMovingWithinSubtree\n        ) : null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_material_ui_RaisedButton_RaisedButton___default.a, {\n            primary: true,\n            style: styles.moveButton,\n            label: buttonLabel,\n            onClick: moveOrganisationUnit,\n            disabled: moveButtonDisabled(props)\n        })\n    );\n}\nOrganisationUnitHierarchy.defaultProps = {\n    selectedLeft: [],\n    selectedRight: []\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__[\"a\" /* default */])(organisationUnitHierarchy$, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(OrganisationUnitHierarchy)));\n\n/***/ }),\n\n/***/ 4983:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_appStateStore__ = __webpack_require__(315);\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ((function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(searchValue) {\n        var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 15;\n        var d2, organisationUnitsThatMatchQuery;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        _context.next = 2;\n                        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])();\n\n                    case 2:\n                        d2 = _context.sent;\n\n                        if (searchValue.trim().length) {\n                            _context.next = 5;\n                            break;\n                        }\n\n                        return _context.abrupt('return', __WEBPACK_IMPORTED_MODULE_1__App_appStateStore__[\"b\" /* default */].getState().userOrganisationUnits.toArray().map(function (ou) {\n                            return d2.models.organisationUnits.create({\n                                id: ou.id,\n                                path: ou.path,\n                                displayName: ou.displayName\n                            });\n                        }));\n\n                    case 5:\n                        _context.next = 7;\n                        return d2.models.organisationUnits.list({\n                            fields: 'id,displayName,path,children::isNotEmpty,access',\n                            query: searchValue,\n                            withinUserHierarchy: true,\n                            pageSize: limit\n                        });\n\n                    case 7:\n                        organisationUnitsThatMatchQuery = _context.sent;\n                        return _context.abrupt('return', organisationUnitsThatMatchQuery.toArray());\n\n                    case 9:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    function searchForOrganisationUnitsWithinHierarchy(_x) {\n        return _ref.apply(this, arguments);\n    }\n\n    return searchForOrganisationUnitsWithinHierarchy;\n})());\n\n/***/ }),\n\n/***/ 4985:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_AutoComplete_AutoComplete__ = __webpack_require__(1721);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_AutoComplete_AutoComplete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_AutoComplete_AutoComplete__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_org_unit_tree_OrgUnitTree_component__ = __webpack_require__(1720);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(109);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop__ = __webpack_require__(4446);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop__);\n\n\n\n\n\n\nfunction OrganisationUnitTreeWithSingleSelectionAndSearch(props, context) {\n    var styles = {\n        labelStyle: {\n            whiteSpace: 'nowrap'\n        },\n        noHitsLabel: {\n            fontStyle: 'italic',\n            color: 'rgba(0, 0, 0, 0.4)'\n        }\n    };\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { style: { position: 'relative' } },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_AutoComplete_AutoComplete___default.a, {\n            hintText: context.d2.i18n.getTranslation('search'),\n            onUpdateInput: props.onUpdateInput,\n            onNewRequest: props.onAutoCompleteValueSelected,\n            dataSource: props.autoCompleteDataSource,\n            filter: __WEBPACK_IMPORTED_MODULE_1_material_ui_AutoComplete_AutoComplete___default.a.noFilter\n        }),\n        Array.isArray(props.roots) && props.roots.length > 0 ? props.roots.map(function (root) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_org_unit_tree_OrgUnitTree_component__[\"a\" /* default */], {\n                key: root.id,\n                root: root,\n                selected: props.selected,\n                initiallyExpanded: props.initiallyExpanded,\n                labelStyle: styles.labelStyle,\n                onSelectClick: props.onSelectClick,\n                idsThatShouldBeReloaded: props.idsThatShouldBeReloaded,\n                hideCheckboxes: props.hideCheckboxes,\n                hideMemberCount: props.hideMemberCount,\n                forceReloadChildren: props.forceReloadChildren\n            });\n        }) : __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: styles.noHitsLabel },\n            props.noHitsLabel\n        )\n    );\n}\nOrganisationUnitTreeWithSingleSelectionAndSearch.propTypes = {\n    onOrgUnitSearch: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n    onNewRequest: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n    autoCompleteDataSource: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array,\n    onChangeSelectedOrgUnit: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n    onAutoCompleteValueSelected: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n    searchOrganisationUnits: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n    roots: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array,\n    idsThatShouldBeReloaded: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array,\n    onUpdateInput: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n    selected: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array,\n    initiallyExpanded: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array,\n    onSelectClick: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n    noHitsLabel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string.isRequired,\n    hideMemberCount: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool,\n    hideCheckboxes: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool\n};\nOrganisationUnitTreeWithSingleSelectionAndSearch.defaultProps = {\n    onOrgUnitSearch: __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default.a,\n    onNewRequest: __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default.a,\n    onChangeSelectedOrgUnit: __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default.a,\n    onAutoCompleteValueSelected: __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default.a,\n    searchOrganisationUnits: __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default.a,\n    onUpdateInput: __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default.a,\n    initiallyExpanded: [],\n    roots: [],\n    autoCompleteDataSource: [],\n    idsThatShouldBeReloaded: [],\n    onClick: __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_noop___default.a,\n    hideMemberCount: false,\n    hideCheckboxes: false\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(OrganisationUnitTreeWithSingleSelectionAndSearch));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 10-6c7fdf65414f50ce6020.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport log from 'loglevel';\n\nexport default function withStateFrom(stateSource$, BaseComponent) {\n    var withStateForm = function (_Component) {\n        _inherits(withStateForm, _Component);\n\n        function withStateForm() {\n            _classCallCheck(this, withStateForm);\n\n            return _possibleConstructorReturn(this, (withStateForm.__proto__ || Object.getPrototypeOf(withStateForm)).apply(this, arguments));\n        }\n\n        _createClass(withStateForm, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                var _this2 = this;\n\n                this.disposable = stateSource$.subscribe(function (state) {\n                    return _this2.setState(state);\n                }, function (error) {\n                    return log.error(error);\n                });\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this.disposable && this.disposable.unsubscribe && this.disposable.unsubscribe();\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return React.createElement(BaseComponent, _extends({}, this.state, this.props));\n            }\n        }]);\n\n        return withStateForm;\n    }(Component);\n\n    withStateForm.displayName = BaseComponent.displayName || BaseComponent.name;\n\n    return withStateForm;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/component-helpers/withStateFrom.js\n// module id = 3733\n// module chunks = 1 2 3 4 5 8 9 10 13 14","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = noop;\nfunction noop() {}\n//# sourceMappingURL=noop.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-utilizr/lib/noop.js\n// module id = 4446\n// module chunks = 0 1 2 10","import React from 'react';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\n\nexport default function AccessDenied() {\n    return (\n        <div>\n            <Heading>Access denied!</Heading>\n            <p>\n                Unfortunately you do not have access to this functionality.\n            </p>\n        </div>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/App/AccessDenied.component.js","import React from 'react';\nimport Paper from 'material-ui/Paper/Paper';\nimport OrganisationUnitTreeWithSingleSelectionAndSearch from '../OrganisationUnitTree/OrganisationUnitTreeWithSingleSelectionAndSearch.component';\nimport withStateFrom from 'd2-ui/lib/component-helpers/withStateFrom';\nimport { setAppState, default as appState } from '../App/appStateStore';\nimport Action from 'd2-ui/lib/action/Action';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport { getInstance } from 'd2/lib/d2';\nimport { Observable } from 'rxjs';\nimport snackActions from '../Snackbar/snack.actions';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport searchForOrganisationUnitsWithinHierarchy from './searchForOrganisationUnitsWithinHierarchy';\nimport log from 'loglevel';\nimport FontIcon from 'material-ui/FontIcon/FontIcon';\nimport AccessDenied from '../App/AccessDenied.component';\n\nfunction identity(v) {\n    return v;\n}\n\nconst d2$ = Observable.fromPromise(getInstance());\n\nconst hierarchy$ = appState\n    .map(state => state.hierarchy || {});\n\nconst rightTreeSearch = Action.create('rightTreeSearch', 'Hierarchy');\nconst leftTreeSearch = Action.create('leftTreeSearch', 'Hierarchy');\n\nObservable\n    // Merge the search action streams for the left and right side trees as we handle them the same\n    .merge(\n        leftTreeSearch\n            .map(action => ({ ...action, side: 'left' }))\n            .debounceTime(400),\n        rightTreeSearch\n            .map(action => ({ ...action, side: 'right' }))\n            .debounceTime(400)\n    )\n    // Only search when we have values\n    .filter(action => action.data)\n    // Do the actual search\n    .map(({ complete, error, data, side }) => Observable\n        .fromPromise(searchForOrganisationUnitsWithinHierarchy(data, 50))\n        .map(organisationUnits => ({ complete, error, organisationUnits, side }))\n    )\n    // Make sure we only take the latest\n    .concatAll()\n    // Grab the current state from the appState\n    .flatMap(v => Observable\n        .of(v)\n        .combineLatest(hierarchy$.take(1), (result, hierarchy) => ({ result, hierarchy }))\n    )\n    // Update the app state with the result\n    .subscribe(({ result, hierarchy }) => {\n        setAppState({\n            hierarchy: {\n                ...appState.state.hierarchy,\n                [`${result.side}Roots`]: result.organisationUnits,\n            },\n        });\n    });\n\n// Reset the trees to the userOrganisationUnits when no search value was found\nObservable\n    .merge(\n        // Emit for the empty left searchfield\n        leftTreeSearch\n            .filter(action => !action.data)\n            .map(() => 'left'),\n        // Emit for the empty right searchfield\n        rightTreeSearch\n            .filter(action => !action.data)\n            .map(() => 'right')\n    )\n    .flatMap(side => appState\n        .take(1)\n        .map(state => ({ side, state }))\n    )\n    .subscribe(({ side, state }) => {\n        setAppState({\n            hierarchy: {\n                ...state.hierarchy,\n                // Reset the roots of the left or right tree to the original root(s)\n                [`${side}Roots`]: state.userOrganisationUnits.toArray(),\n            },\n        });\n    });\n\nconst organisationUnitHierarchy$ = appState\n    .map(({ hierarchy = {}, userOrganisationUnits }) => ({\n        roots: userOrganisationUnits.toArray(),\n        leftRoots: hierarchy.leftRoots,\n        rightRoots: hierarchy.rightRoots,\n        initiallyExpanded: userOrganisationUnits.toArray().map(model => model.path),\n        moveTargetPath: hierarchy.moveTargetPath || null,\n        selectedLeft: hierarchy.selectedLeft || [],\n        selectedRight: hierarchy.selectedRight || [],\n        isProcessing: hierarchy.isProcessing,\n        reload: hierarchy.reload,\n    }));\n\nfunction onClickLeft(event, model) {\n    hierarchy$\n        .take(1) // Only grab the current state\n        .subscribe(\n            (hierarchy) => {\n                const selectAllChildren = event.shiftKey\n\n                let selectedLeft = [];\n\n                let modelIdsToRemove = hierarchy.selectedLeft\n                    .filter(m => m.id === model.id).map(m => m.id)\n\n                const children = model.children.toArray()\n                let childrenToAdd = []\n\n                // add all children that is not already selected if shift-clicked\n                if(selectAllChildren) {\n                    childrenToAdd = children.filter(\n                        (child) => hierarchy.selectedLeft.findIndex((m) => m.id === child.id) < 0\n                    );\n                }\n\n                // remove selection if already present\n                if (modelIdsToRemove.length > 0) {\n                    if(selectAllChildren) {\n                        modelIdsToRemove.push(...children.map(child => child.id))\n                    }\n                    selectedLeft = hierarchy.selectedLeft.filter(m => modelIdsToRemove.indexOf(m.id) < 0)\n                } else {\n                    selectedLeft = hierarchy.selectedLeft.concat(model, ...childrenToAdd);\n                }\n\n                setAppState({\n                    hierarchy: {\n                        ...hierarchy,\n                        reload: [],\n                        selectedLeft,\n                    },\n                });\n            }\n        );\n}\n\nasync function getOrganisationUnitByIds(ids) {\n    const d2 = await getInstance();\n\n    const organisationUnits = await d2.models.organisationUnit\n        .list({ filter: [`id:in:[${ids.join(',')}]`], fields: ':owner,href,id,parent,displayName,path,children[id,displayName,path]', paging: false });\n\n    return organisationUnits.toArray();\n}\n\nfunction setHierarchyProcessingStatus(hierarchy, status) {\n    setAppState({\n        hierarchy: {\n            ...hierarchy,\n            isProcessing: status,\n        },\n    });\n}\n\nfunction changeOrganisationUnitParentAndSave(organisationUnit) {\n    return hierarchy$\n        .take(1)\n        .combineLatest(d2$)\n        .flatMap(([hierarchy, d2]) => {\n            organisationUnit.parent = { id: hierarchy.selectedRight[0] && hierarchy.selectedRight[0].id };\n\n            const movingStatus = organisationUnit\n                .save()\n                .then(() => d2.i18n.getTranslation('successfully_moved_$$ouName$$', { ouName: organisationUnit.displayName }))\n                .catch(e => d2.i18n.getTranslation('failed_to_move_$$ouName$$_($$errorMessage$$)', {\n                    ouName: organisationUnit.displayName,\n                    errorMessage: e,\n                }));\n\n            return Observable.fromPromise(movingStatus);\n        });\n}\n\nfunction moveOrganisationUnit() {\n    hierarchy$\n        .take(1)\n        .do(hierarchy => setHierarchyProcessingStatus(hierarchy, true))\n        .map(hierarchy => (hierarchy.selectedLeft || []).map(model => model.id))\n        .flatMap(ouIds => Observable\n            .fromPromise(getOrganisationUnitByIds(ouIds))\n            .flatMap(identity)\n        )\n        .map(changeOrganisationUnitParentAndSave)\n        .concatAll()\n        .subscribe(\n            (message) => {\n                snackActions.show({ message, translate: false });\n            },\n            (e) => {\n                setHierarchyProcessingStatus(appState.state.hierarchy, false);\n            },\n            () => {\n                setAppState({\n                    hierarchy: {\n                        ...appState.state.hierarchy,\n                        selectedLeft: [],\n                        selectedRight: [],\n                        initiallySelected: [],\n                        moveTargetPath: appState.state.hierarchy.selectedRight[0].path,\n                        reload: []\n                            .concat(appState.state.hierarchy.selectedRight.map(model => model.id))\n                            .concat(appState.state.hierarchy.selectedLeft.map((model) => {\n                                if (model.parent && model.parent.id) {\n                                    return model.parent.id;\n                                }\n                                return appState.state.hierarchy.leftRoots\n                                    .concat(appState.state.hierarchy.rightRoots)\n                                    .map(value => value.id)\n                                    .filter(rootId => new RegExp(rootId).test(model.path))\n                                    .reduce(value => value)\n                            })),\n                    },\n                });\n\n                // Wait till stack clears before setting isProcessing to false and triggering a rerender\n                // Without this the UI represents a stale state\n                setTimeout(() => {\n                    setHierarchyProcessingStatus(appState.state.hierarchy, false)\n                }, 0);\n            }\n        );\n}\n\nfunction onClickRight(event, model) {\n    hierarchy$\n        .take(1) // Only grab the current state\n        .subscribe(\n            hierarchy => setAppState({\n                hierarchy: {\n                    ...hierarchy,\n                    reload: [],\n                    selectedRight: [model],\n                    moveTargetPath: null,\n                },\n            })\n        );\n}\n\nfunction SelectedOrganisationUnitList(props, context) {\n    const styles = {\n        title: {\n            color: '#666',\n            marginBottom: '.5rem',\n        },\n        message: {\n            color: '#666',\n            padding: '.5rem',\n            display: 'block',\n        },\n        list: {\n            paddingLeft: '1.5rem',\n        },\n    };\n\n    const listItems = props.organisationUnits\n        .map(model => <li key={model.id}>{model.displayName}</li>);\n\n    const noOrganisationUnitsMessage = (\n        <span style={styles.message}>{context.d2.i18n.getTranslation(props.noOrganisationUnitsMessage)}</span>\n    );\n\n    return (\n        <div style={props.style}>\n            <div style={styles.title}>{context.d2.i18n.getTranslation(props.title)}</div>\n            {listItems.length ? <ul style={styles.list}>{listItems}</ul> : noOrganisationUnitsMessage}\n        </div>\n    );\n}\nSelectedOrganisationUnitList.defaultProps = {\n    organisationUnits: [],\n};\n\nconst SelectedOrganisationUnitListWithContext = addD2Context(SelectedOrganisationUnitList);\n\nfunction hasEqualElement(left, right, selector) {\n    return left.map(selector).some(item => right.map(selector).indexOf(item) >= 0);\n}\n\nfunction splitOuPath(path = '') {\n    return path\n        .split('/')\n        .filter(part => part);\n}\n\nfunction sourceIsInPathOfTarget(source, target) {\n    if (source.some(model => !model.path) || target.some(model => !model.path)) {\n        log.warn('No path found, so can not run hierarchy validation');\n        return true;\n    }\n\n    if (target.length !== 1) {\n        log.warn('More than/less than 1 target found, can not move.');\n        return true;\n    }\n\n    const targetModel = target[0];\n\n    return source.some(sourceModel => splitOuPath(targetModel.path).indexOf(sourceModel.id) >= 0);\n}\n\nfunction moveButtonDisabled(props) {\n    return props.isProcessing ||\n        !props.selectedLeft.length ||\n        !props.selectedRight.length ||\n        hasEqualElement(props.selectedLeft, props.selectedRight, v => v && v.id) ||\n        sourceIsInPathOfTarget(props.selectedLeft, props.selectedRight);\n}\n\nfunction OrganisationUnitHierarchy(props, context) {\n    const styles = {\n        wrap: {\n            flex: 1,\n            display: 'flex',\n            flexOrientation: 'row',\n            margin: '1rem 0',\n        },\n        ouTreeLeft: {\n            flex: 1,\n            marginRight: '2rem',\n            padding: '1rem',\n        },\n        ouTreeRight: {\n            flex: 1,\n            padding: '1rem',\n        },\n        moveButton: {\n            width: '100%',\n            marginBottom: '1rem',\n            marginTop: '1rem',\n        },\n        pendingOperationsWrap: {\n            padding: '1rem',\n            margin: '1rem 0',\n        },\n        pendingOperationsListsWrap: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        pendingOperationsList: {\n            flex: 1,\n            padding: '.5rem',\n        },\n        errorMessage: {\n            color: 'orange',\n            lineHeight: '1.5rem',\n            padding: '1rem 0',\n            display: 'flex',\n            alignItems: 'flex-end',\n        },\n        errorIcon: {\n            color: 'orange',\n        },\n    };\n\n    if (!context.d2.currentUser.authorities.has('F_ORGANISATIONUNIT_MOVE')) {\n        return (\n            <AccessDenied />\n        );\n    }\n\n    const buttonLabel = context.d2.i18n.getTranslation('move_$$ouCount$$_organisation_units', { ouCount: (props.selectedLeft && props.selectedLeft.length) || 0 });\n    const headingTitle = context.d2.i18n.getTranslation('hierarchy_operations');\n    const warningForMovingWithinSubtree = context.d2.i18n.getTranslation('you_can_not_move_higher_level_organisation_units_to_its_descendants');\n    const initiallyExpandedRight = props.moveTargetPath ? [...props.initiallyExpanded, props.moveTargetPath] : props.initiallyExpanded;\n\n    return (\n        <div>\n            <Heading>{headingTitle}</Heading>\n            <div style={styles.wrap}>\n                <Paper style={styles.ouTreeLeft}>\n                    <OrganisationUnitTreeWithSingleSelectionAndSearch\n                        roots={props.leftRoots}\n                        initiallyExpanded={props.initiallyExpanded}\n                        selected={props.selectedLeft.map(model => model.path)}\n                        onSelectClick={onClickLeft}\n                        onUpdateInput={value => leftTreeSearch(value)}\n                        idsThatShouldBeReloaded={props.reload}\n                        noHitsLabel={context.d2.i18n.getTranslation('no_matching_organisation_units')}\n                        forceReloadChildren\n                    />\n                </Paper>\n                <Paper style={styles.ouTreeRight}>\n                    <OrganisationUnitTreeWithSingleSelectionAndSearch\n                        roots={props.rightRoots}\n                        selected={props.selectedRight.map(model => model.path)}\n                        initiallyExpanded={initiallyExpandedRight}\n                        onSelectClick={onClickRight}\n                        onUpdateInput={value => rightTreeSearch(value)}\n                        idsThatShouldBeReloaded={props.reload}\n                        noHitsLabel={context.d2.i18n.getTranslation('no_matching_organisation_units')}\n                        hideCheckboxes\n                        hideMemberCount\n                        forceReloadChildren\n                    />\n                </Paper>\n            </div>\n            <Paper style={styles.pendingOperationsWrap}>\n                <div style={styles.pendingOperationsListsWrap}>\n                    <SelectedOrganisationUnitListWithContext\n                        style={styles.pendingOperationsList}\n                        organisationUnits={props.selectedLeft}\n                        noOrganisationUnitsMessage=\"select_organisation_units_to_move_from_the_left_tree\"\n                        title=\"move\"\n                    />\n                    <SelectedOrganisationUnitListWithContext\n                        style={styles.pendingOperationsList}\n                        organisationUnits={props.selectedRight}\n                        noOrganisationUnitsMessage=\"select_new_parent_for_organisation_units_from_the_right_tree\"\n                        title=\"new_parent\"\n                    />\n                </div>\n            </Paper>\n            {props.selectedLeft.length && props.selectedRight.length && sourceIsInPathOfTarget(props.selectedLeft || [], props.selectedRight || []) ? <div style={styles.errorMessage}><FontIcon style={styles.errorIcon} className=\"material-icons\">warning</FontIcon>{warningForMovingWithinSubtree}</div> : null}\n            <RaisedButton\n                primary\n                style={styles.moveButton}\n                label={buttonLabel}\n                onClick={moveOrganisationUnit}\n                disabled={moveButtonDisabled(props)}\n            />\n        </div>\n    );\n}\nOrganisationUnitHierarchy.defaultProps = {\n    selectedLeft: [],\n    selectedRight: [],\n};\n\nexport default withStateFrom(organisationUnitHierarchy$, addD2Context(OrganisationUnitHierarchy));\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitHierarchy/OrganisationUnitHierarchy.component.js","import { getInstance } from 'd2/lib/d2';\nimport appState from '../App/appStateStore';\n\nexport default async function searchForOrganisationUnitsWithinHierarchy(searchValue, limit = 15) {\n    const d2 = await getInstance();\n\n    if (!searchValue.trim().length) {\n        return appState.getState().userOrganisationUnits.toArray().map(ou => d2.models.organisationUnits.create({\n            id: ou.id,\n            path: ou.path,\n            displayName: ou.displayName,\n        }));\n    }\n\n    const organisationUnitsThatMatchQuery = await d2.models.organisationUnits\n        .list({\n            fields: 'id,displayName,path,children::isNotEmpty,access',\n            query: searchValue,\n            withinUserHierarchy: true,\n            pageSize: limit,\n        });\n\n    return organisationUnitsThatMatchQuery.toArray();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitHierarchy/searchForOrganisationUnitsWithinHierarchy.js","import React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete/AutoComplete';\nimport OrganisationUnitTree from 'd2-ui/lib/org-unit-tree/OrgUnitTree.component';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport noop from 'd2-utilizr/lib/noop';\n\nfunction OrganisationUnitTreeWithSingleSelectionAndSearch(props, context) {\n    const styles = {\n        labelStyle: {\n            whiteSpace: 'nowrap',\n        },\n        noHitsLabel: {\n            fontStyle: 'italic',\n            color: 'rgba(0, 0, 0, 0.4)',\n        },\n    };\n\n    return (\n        <div style={{ position: 'relative' }}>\n            <AutoComplete\n                hintText={context.d2.i18n.getTranslation('search')}\n                onUpdateInput={props.onUpdateInput}\n                onNewRequest={props.onAutoCompleteValueSelected}\n                dataSource={props.autoCompleteDataSource}\n                filter={AutoComplete.noFilter}\n            />\n            {Array.isArray(props.roots) && props.roots.length > 0 ? props.roots\n                .map(root =>\n                {\n                    return (\n                        <OrganisationUnitTree\n                            key={root.id}\n                            root={root}\n                            selected={props.selected}\n                            initiallyExpanded={props.initiallyExpanded}\n                            labelStyle={styles.labelStyle}\n                            onSelectClick={props.onSelectClick}\n                            idsThatShouldBeReloaded={props.idsThatShouldBeReloaded}\n                            hideCheckboxes={props.hideCheckboxes}\n                            hideMemberCount={props.hideMemberCount}\n                            forceReloadChildren={props.forceReloadChildren}\n                        />\n                    )\n                }) : <div style={styles.noHitsLabel}>{props.noHitsLabel}</div>}\n        </div>\n    );\n}\nOrganisationUnitTreeWithSingleSelectionAndSearch.propTypes = {\n    onOrgUnitSearch: React.PropTypes.func,\n    onNewRequest: React.PropTypes.func,\n    autoCompleteDataSource: React.PropTypes.array,\n    onChangeSelectedOrgUnit: React.PropTypes.func,\n    onAutoCompleteValueSelected: React.PropTypes.func,\n    searchOrganisationUnits: React.PropTypes.func,\n    roots: React.PropTypes.array,\n    idsThatShouldBeReloaded: React.PropTypes.array,\n    onUpdateInput: React.PropTypes.func,\n    selected: React.PropTypes.array,\n    initiallyExpanded: React.PropTypes.array,\n    onSelectClick: React.PropTypes.func,\n    noHitsLabel: React.PropTypes.string.isRequired,\n    hideMemberCount: React.PropTypes.bool,\n    hideCheckboxes: React.PropTypes.bool,\n};\nOrganisationUnitTreeWithSingleSelectionAndSearch.defaultProps = {\n    onOrgUnitSearch: noop,\n    onNewRequest: noop,\n    onChangeSelectedOrgUnit: noop,\n    onAutoCompleteValueSelected: noop,\n    searchOrganisationUnits: noop,\n    onUpdateInput: noop,\n    initiallyExpanded: [],\n    roots: [],\n    autoCompleteDataSource: [],\n    idsThatShouldBeReloaded: [],\n    onClick: noop,\n    hideMemberCount: false,\n    hideCheckboxes: false,\n};\n\nexport default addD2Context(OrganisationUnitTreeWithSingleSelectionAndSearch);\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitTree/OrganisationUnitTreeWithSingleSelectionAndSearch.component.js"],"sourceRoot":""}