{"version":3,"sources":["webpack:///8-6c7fdf65414f50ce6020.js","webpack:///./src/EditModel/EditDataSetSections.component.js","webpack:///./~/d2-ui/lib/component-helpers/withStateFrom.js?787e****","webpack:///./src/List/HelpLink.component.js?e268****","webpack:///./src/config/inlinehelp-mapping.json?abd3****","webpack:///./~/d2-ui/lib/i18n/TranslationDialog.component.js?7850***","webpack:///./~/d2-ui/lib/i18n/LocaleSelector.component.js?7c14***","webpack:///./~/d2-ui/lib/i18n/TranslationForm.component.js?f3ce***","webpack:///./~/d2-ui/lib/i18n/translationForm.actions.js?cdfe***","webpack:///./src/EditModel/FormHeading.js?6597**","webpack:///./src/EditModel/BackButton.component.js?d1ea**","webpack:///./~/d2-ui/lib/loading-mask/LoadingMask.component.js?df9e","webpack:///./src/EditModel/FormSubHeading.js?4a65","webpack:///./~/dompurify/dist/purify.js","webpack:///./src/EditModel/GreyFieldDialog.component.js","webpack:///./src/EditModel/SectionDialog.component.js"],"names":["webpackJsonp","3679","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__","__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__","__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__","__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default","__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__","__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default","__WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__","__WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__","__WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__","__WEBPACK_IMPORTED_MODULE_12__FormHeading__","__WEBPACK_IMPORTED_MODULE_13__FormSubHeading__","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","styles","heading","paddingBottom","fab","textAlign","marginTop","bottom","right","position","zIndex","EditDataSetSections","_Component","context","this","_this","getPrototypeOf","handleTranslationSaved","show","message","translate","handleTranslationErrored","errorMessage","a","error","action","state","categoryCombos","editSectionModel","greyFieldSectionModel","Promise","all","d2","Api","getApi","get","params","modelId","join","fields","paging","then","_ref","_ref2","catComboList","sections","sectionArray","toArray","setState","sort","b","sortOrder","map","cc","id","text","displayName","getTranslation","handleAddSectionClick","bind","handleEditSectionClick","handleSectionSaved","handleDeleteSectionClick","handleTranslateSectionClick","handleSectionGreyFieldsClick","swapSections","moveSectionUp","moveSectionDown","i18n","newSection","models","assign","dataSet","reduce","p","s","Math","max","savedSection","_this2","replaced","forceUpdate","section","_this3","onActionTouchTap","delete","newSections","filter","catch","warn","translationModel","sectionA","sectionB","_this4","swapOrder","save","currentIndex","indexOf","swapSection","_this5","contextActions","edit","manage_grey_fields","move_up","move_down","contextMenuIcons","contextActionChecker","model","createElement","schema","groupName","columns","rows","contextMenuActions","primaryAction","isContextActionAllowed","open","sectionModel","onRequestClose","onSaveSection","onRequestSave","objectToTranslate","objectTypeToTranslate","modelDefinition","onTranslationSaved","onTranslationError","fieldsToTranslate","style","onClick","className","propTypes","any","isRequired","contextTypes","3733","withStateFrom","stateSource$","BaseComponent","withStateForm","apply","arguments","disposable","subscribe","__WEBPACK_IMPORTED_MODULE_1_loglevel___default","unsubscribe","_extends","name","__WEBPACK_IMPORTED_MODULE_1_loglevel__","source","hasOwnProperty","3816","mappingPathExists","mappingKey","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default","getDocsVersion","major","minor","snapshot","replacePlaceholder","variablesToReplace","placeholderRegex","replace","match","variable","has","replaceMappingPathPlaceholder","path","keys","find","pathToMatch","RegExp","test","getPartialHelpContentPath","replacedMappingPath","variablesToReplaceCamel","findHelpLinkForPath","Map","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__","HelpLink","_ref3","window","location","hash","docsVersion","system","version","docsLink","helpLink","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default","href","rel","tooltip","tooltipPosition","iconClassName","iconStyle","top","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__","string","object","3835","exports","/list/categorySection","/list/dataElementSection","/list/dataSetSection","/edit/dataSetSection/dataSet/${objectId}/sections","/edit/dataSetSection/dataSetNotificationTemplate","/edit/dataSetSection/dataSet","/list/indicatorSection/programIndicatorGroup","/list/indicatorSection/programIndicator","/list/indicatorSection","/edit/indicatorSection/programIndicator","/edit/indicatorSection/programIndicatorGroup","/list/organisationUnitSection/organisationUnitLevel","/list/organisationUnitSection","organisationUnitSection/hierarchy","/list/programSection/trackedEntity","/list/programSection/programRuleVariable","/list/programSection/program/","/list/programSection/${objectType}","/list/programSection","/edit/programSection/program/","/edit/programSection/trackedEntityType","/edit/programSection/${objectType}","/list/validationSection","/edit/validationSection/validationNotificationTemplate","/edit/otherSection/attribute","/list/otherSection/optionGroup","/list/otherSection/optionGroupSet","/list/otherSection/legendSet","/edit/otherSection/legendSet","/list/otherSection/predictorGroup","/list/otherSection/pushAnalysis","/edit/otherSection/pushAnalysis","/list/otherSection/externalMapLayer","/list/otherSection/locale","/edit/otherSection/locale","/list/otherSection/sqlView","/edit/otherSection/sqlView","/edit/","/list/","3836","__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__","TranslationDialog","TranslationForm","translationSaved","translationError","closeTranslationDialog","title","autoDetectWindowHeight","autoScrollBodyContent","onCancel","newProps","args","shape","func","bool","array","3957","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default","LocaleSelector","onLocaleChange","event","index","locale","onChange","localeMenuItems","payload","concat","locales","primaryText","fullWidth","hintText","arrayOf","3958","getTranslationFormData","translationStore","__WEBPACK_IMPORTED_MODULE_9__store_Store__","__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__","translations","__WEBPACK_IMPORTED_MODULE_5_rxjs__","combineLatest","_len","data","_key","setTranslations","getTranslationFormFor","__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__","__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__","loading","translationValues","currentSelectedLocale","setCurrentLocale","setValue","property","newTranslations","translation","t","toLowerCase","toUpperCase","saveTranslations","mode","fieldName","floatingLabelText","getTranslationValueFor","renderFieldsToTranslate","label","primary","marginLeft","minHeight","renderForm","renderHelpText","getLoadingdataElement","defaultProps","3959","getLocales","localePromise","__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_1_rxjs__","fromPromise","getModelHref","apiEndpoint","getTranslationsForModel","of","flatMap","reject","Error","d","__WEBPACK_IMPORTED_MODULE_2__action_Action__","_ref$data","complete","translationHref","update","dataType","3984","_objectWithoutProperties","obj","FormHeading","level","children","isDirtyHandler","skipTranslation","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_5__BackButton_component__","history","back","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__","oneOfType","number","3988","BackButton","_props$isDirtyHandler","__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__","getState","otherProps","onClickWithConfirm","dirty","confirm","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__","PropTypes","4455","LoadingMask","_ref$style","_ref$large","large","_ref$small","small","__WEBPACK_IMPORTED_MODULE_1_react___default","loadingStatusMask","__WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__","__WEBPACK_IMPORTED_MODULE_0_prop_types__","__WEBPACK_IMPORTED_MODULE_0_prop_types___default","__WEBPACK_IMPORTED_MODULE_1_react__","left","4757","FormSubHeading","defaultStyle","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__","fontSize","paddingTop","fontWeight","4934","_toConsumableArray","arr2","from","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","global","factory","unapply","thisArg","addToSet","set","transformCaseFunc","stringToLowerCase","l","element","lcElement","isFrozen","cleanArray","objectHasOwnProperty","clone","newObject","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","entries","return","lookupGetter","prop","fallbackValue","desc","getOwnPropertyDescriptor","createDOMPurify","getGlobal","DOMPurify","root","removed","document","nodeType","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","content","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","createHTMLDocument","MUSTACHE_EXPR","EXPRESSIONS","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","IS_ALLOWED_URI$1","IS_ALLOWED_URI","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","html$1","svg$1","svgFilters","mathMl$1","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","html","svg","mathMl","xml","CUSTOM_ELEMENT_HANDLING","seal","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","stringToString","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","TRUSTED_TYPES_POLICY","createHTML","typeErrorCreate","createScriptURL","_createTrustedTypesPolicy","freeze","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","svgDisallowed","ALL_MATHML_TAGS","mathMlDisallowed","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","Boolean","_forceRemove","node","arrayPush","parentNode","removeChild","_","remove","_removeAttribute","attribute","getAttributeNode","removeAttribute","setAttribute","_initDocument","doc","leadingWhitespace","matches","stringMatch","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","textContent","attributes","hasChildNodes","_isNode","_executeHook","entryPoint","currentNode","arrayForEach","hook","_sanitizeElements","allowedTags","firstElementChild","regExpTest","_isBasicCustomElement","childCount","expr","stringReplace","_isValidAttribute","lcTag","lcName","stringIndexOf","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","attr","stringTrim","forceKeepAttr","getAttributeType","setAttributeNS","arrayPop","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","toString","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","DOCTYPE_NAME","setConfig","clearConfig","isValidAttribute","tag","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","Reflect","construct","x","fun","thisValue","Func","forEach","pop","String","trim","_len2","_key2","purifyHostElement","createPolicy","suffix","hasAttribute","getAttribute","policyName","scriptUrl","console","4938","__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default","__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__","__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default","__WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__","__WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_8__modelToEditStore__","dialogContent","maxWidth","dialogDiv","overflowX","overflowY","borderSpacing","borderCollapse","margin","th","whiteSpace","border","padding","thDataElements","background","td","minWidth","tdDataElement","GreyFieldDialog","_React$Component","categories","closeDialog","handleSaveClick","dataElements","info","cocMap","categoryArrayToMap","appendage","reduceAppendage","prev","categoryOption","out","categoryOptions","assignCocs","options","coc","keyPos","splice","list","categoryCombo","JSON","parse","stringify","categoryOptionCombos","optionPath","o","greyedFields","gf","dataElement","categoryOptionCombo","currentCategoryCombo","optionCount","oc","c","size","res","prevRowColCount","cat","catNum","colSpan","slice","product","isLastHeader","row","e","rep","opt","optNum","fieldArray","fieldNum","resolveCoc","shift","isGreyed","toggleBoggle","dataElementId","categoryOptionComboId","disable","greyedCocs","includes","deId","checked","labelPosition","labelStyle","onCheck","_this6","getCocFields","pout","currentSectionDataElementIds","de","dataSetElements","dse","deNum","cocFields","renderCheckbox","_this7","_props","extraProps","uniqueCatComboIds","sectionDataElementIds","categoryCombosForSection","catCombos","catCombo","localeCompare","contentStyle","actions","onTouchTap","marginRight","labelText","width","renderTableHeader","renderDataElements","Component","4939","_defineProperty","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_6_material_ui_RadioButton__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__","__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_store_Store__","__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox__","__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox___default","__WEBPACK_IMPORTED_MODULE_10__forms_form_fields_drop_down__","__WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_12__modelToEditStore__","__WEBPACK_IMPORTED_MODULE_13_material_ui_SelectField__","__WEBPACK_IMPORTED_MODULE_13_material_ui_SelectField___default","__WEBPACK_IMPORTED_MODULE_14_material_ui_DropDownMenu__","__WEBPACK_IMPORTED_MODULE_15_dompurify__","dataElementStore","assignedDataElementStore","indicatorStore","assignedIndicatorStore","cleanDisplayOptions","displayOptions","beforeSectionText","afterSectionText","SectionDialog","setAssignedDataElements","setAssignedIndicators","indicators","removeIndicators","resolve","assignIndicators","handleRowTotalsChange","showRowTotals","handleColumnTotalsChange","showColumnTotals","handleDisableDataElementAutoGroupChange","disableDataElementAutoGroup","handleFilterChange","filterText","handleNameChange","nameDupe","nameError","handleCodeChange","codeDupe","code","codeError","handleDescriptionChange","description","assignDataElements","removeDataElements","handleCategoryComboChange","categoryComboId","filterDataElementIds","saveSection","response","uid","handleChoosePivotMode","pivotMode","firstCategory","categoryId","pivotedCategory","handlePivotCategoryChoice","pivotedCategoryValue","handleSectionTextUpdate","ev","prevState","renderSectionDisplayConfigurationOptions","pivotOptions","isMoveCategoryMode","valueSelected","defaultSelected","floatingLabelFixed","defaultValue","renderFilters","disabled","renderAvailableOptions","display","lineHeight","color","editorStyle","marginBottom","itemStore","assignedItemStore","onAssignItems","onRemoveItems","onOrderChanged","height","subscriptions","currentSectionId","otherSections","elements","sectionIdDiv","float","fontFamily","validateName","errorText","onBlur","multiLine"],"mappings":"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","file":"8-6c7fdf65414f50ce6020.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 3679:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__ = __webpack_require__(3836);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__ = __webpack_require__(4455);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__ = __webpack_require__(1657);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__ = __webpack_require__(1659);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__ = __webpack_require__(1652);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__ = __webpack_require__(4939);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__ = __webpack_require__(4938);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__ = __webpack_require__(311);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__FormHeading__ = __webpack_require__(3984);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__FormSubHeading__ = __webpack_require__(4757);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    heading: {\n        paddingBottom: 18\n    },\n    fab: {\n        textAlign: 'right',\n        marginTop: '1rem',\n        bottom: '1.5rem',\n        right: '1.5rem',\n        position: 'fixed',\n        zIndex: 10\n    }\n};\n\nvar EditDataSetSections = function (_Component) {\n    _inherits(EditDataSetSections, _Component);\n\n    function EditDataSetSections(props, context) {\n        _classCallCheck(this, EditDataSetSections);\n\n        var _this = _possibleConstructorReturn(this, (EditDataSetSections.__proto__ || Object.getPrototypeOf(EditDataSetSections)).call(this, props, context));\n\n        _this.handleTranslationSaved = function () {\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'translation_saved', translate: true });\n        };\n\n        _this.handleTranslationErrored = function (errorMessage) {\n            __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(errorMessage);\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'translation_save_error', action: 'ok', translate: true });\n        };\n\n        _this.state = {\n            categoryCombos: null,\n            editSectionModel: false,\n            greyFieldSectionModel: false\n        };\n\n        Promise.all([context.d2.Api.getApi().get(['dataSets', props.params.modelId, 'categoryCombos'].join('/'), { fields: 'id,displayName', paging: false })]).then(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 1),\n                catComboList = _ref2[0];\n\n            var sections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n            var sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            _this.setState({\n                sections: sectionArray.sort(function (a, b) {\n                    return a.sortOrder - b.sortOrder;\n                }),\n                categoryCombos: catComboList.categoryCombos.map(function (cc) {\n                    return {\n                        value: cc.id,\n                        text: cc.displayName === 'default' ? _this.getTranslation('none') : cc.displayName\n                    };\n                })\n            });\n        });\n\n        _this.handleAddSectionClick = _this.handleAddSectionClick.bind(_this);\n        _this.handleEditSectionClick = _this.handleEditSectionClick.bind(_this);\n        _this.handleSectionSaved = _this.handleSectionSaved.bind(_this);\n\n        _this.handleDeleteSectionClick = _this.handleDeleteSectionClick.bind(_this);\n        _this.handleTranslateSectionClick = _this.handleTranslateSectionClick.bind(_this);\n        _this.handleTranslationSaved = _this.handleTranslationSaved.bind(_this);\n        _this.handleTranslationErrored = _this.handleTranslationErrored.bind(_this);\n\n        _this.handleSectionGreyFieldsClick = _this.handleSectionGreyFieldsClick.bind(_this);\n\n        _this.swapSections = _this.swapSections.bind(_this);\n        _this.moveSectionUp = _this.moveSectionUp.bind(_this);\n        _this.moveSectionDown = _this.moveSectionDown.bind(_this);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(EditDataSetSections, [{\n        key: 'handleAddSectionClick',\n        value: function handleAddSectionClick() {\n            var newSection = this.context.d2.models.sections.create();\n            this.setState(function (state) {\n                return {\n                    editSectionModel: Object.assign(newSection, {\n                        dataSet: { id: __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.id },\n                        sortOrder: state.sections.reduce(function (p, s) {\n                            return Math.max(s.sortOrder, p);\n                        }, 0) + 1\n                    })\n                };\n            });\n        }\n    }, {\n        key: 'handleEditSectionClick',\n        value: function handleEditSectionClick(editSectionModel) {\n            this.setState({ editSectionModel: editSectionModel });\n        }\n    }, {\n        key: 'handleSectionSaved',\n        value: function handleSectionSaved(savedSection) {\n            var _this2 = this;\n\n            this.setState(function (state) {\n                var replaced = false;\n                var sections = state.sections.map(function (s) {\n                    if (s.id === savedSection.id) {\n                        replaced = true;\n                        return savedSection;\n                    }\n                    return s;\n                }).sort(function (a, b) {\n                    return a.sortOrder - b.sortOrder;\n                });\n                if (!replaced) {\n                    sections.push(savedSection);\n                }\n\n                __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].setState(Object.assign(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state, { sections: sections }));\n                return {\n                    editSectionModel: false,\n                    greyFieldSectionModel: false,\n                    sections: sections\n                };\n            }, function () {\n                _this2.forceUpdate();\n            });\n        }\n    }, {\n        key: 'handleDeleteSectionClick',\n        value: function handleDeleteSectionClick(section) {\n            var _this3 = this;\n\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                message: this.getTranslation('confirm_delete_section') + ' ' + section.displayName,\n                action: 'confirm',\n                onActionTouchTap: function onActionTouchTap() {\n                    section.delete().then(function () {\n                        var newSections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n                        __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].setState(Object.assign(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state, {\n                            sections: (Array.isArray(newSections) ? newSections : newSections.toArray()).filter(function (s) {\n                                return s.id !== section.id;\n                            })\n                        }));\n\n                        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('section_deleted') });\n                        _this3.setState(function (state) {\n                            return {\n                                sections: state.sections.filter(function (s) {\n                                    return s.id !== section.id;\n                                })\n                            };\n                        });\n                    }).catch(function (err) {\n                        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_delete_section'), action: 'ok' });\n                        __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to delete section', err);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'handleTranslateSectionClick',\n        value: function handleTranslateSectionClick(section) {\n            this.setState({\n                translationModel: section\n            });\n        }\n    }, {\n        key: 'handleSectionGreyFieldsClick',\n        value: function handleSectionGreyFieldsClick(section) {\n            this.setState({ greyFieldSectionModel: section });\n        }\n    }, {\n        key: 'swapSections',\n        value: function swapSections(sectionA, sectionB) {\n            var _this4 = this;\n\n            this.setState(function (state) {\n                var swapOrder = sectionA.sortOrder;\n                sectionA.sortOrder = sectionB.sortOrder; // eslint-disable-line\n                sectionB.sortOrder = swapOrder; // eslint-disable-line\n\n                Promise.all([sectionA.save(), sectionB.save()]).then(function () {\n                    __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this4.getTranslation('section_moved') });\n                }).catch(function (err) {\n                    __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to swap sections:', err);\n                    __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this4.getTranslation('failed_to_move_section'), action: 'ok' });\n                });\n\n                return {\n                    sections: state.sections.sort(function (a, b) {\n                        return a.sortOrder - b.sortOrder;\n                    })\n                };\n            });\n        }\n    }, {\n        key: 'moveSectionUp',\n        value: function moveSectionUp(section) {\n            var currentIndex = this.state.sections.indexOf(section);\n            if (currentIndex > 0) {\n                var swapSection = this.state.sections[currentIndex - 1];\n                this.swapSections(swapSection, section);\n            }\n        }\n    }, {\n        key: 'moveSectionDown',\n        value: function moveSectionDown(section) {\n            var currentIndex = this.state.sections.indexOf(section);\n            if (currentIndex < this.state.sections.length - 1) {\n                var swapSection = this.state.sections[currentIndex + 1];\n                this.swapSections(swapSection, section);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var contextActions = {\n                edit: this.handleEditSectionClick,\n                delete: this.handleDeleteSectionClick,\n                translate: this.handleTranslateSectionClick,\n                manage_grey_fields: this.handleSectionGreyFieldsClick,\n                move_up: this.moveSectionUp,\n                move_down: this.moveSectionDown\n            };\n\n            var contextMenuIcons = {\n                edit: 'edit',\n                move_up: 'arrow_upward',\n                move_down: 'arrow_downward',\n                manage_grey_fields: 'do_not_disturb'\n            };\n\n            var contextActionChecker = function contextActionChecker(model, action) {\n                if (action === 'move_up') {\n                    return _this5.state.sections.indexOf(model) > 0;\n                } else if (action === 'move_down') {\n                    return _this5.state.sections.indexOf(model) < _this5.state.sections.length - 1;\n                }\n\n                return true;\n            };\n\n            return this.state.sections === undefined ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__[\"a\" /* default */], null) : __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_12__FormHeading__[\"a\" /* default */],\n                    { schema: 'dataSet', groupName: 'dataSetSection' },\n                    'section_management'\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_13__FormSubHeading__[\"a\" /* default */],\n                    null,\n                    __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.displayName\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__[\"a\" /* default */], {\n                    columns: ['name'],\n                    rows: this.state.sections,\n                    contextMenuActions: contextActions,\n                    contextMenuIcons: contextMenuIcons,\n                    primaryAction: contextActions.edit,\n                    isContextActionAllowed: contextActionChecker\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__[\"a\" /* default */], {\n                    open: !!this.state.editSectionModel,\n                    sectionModel: this.state.editSectionModel,\n                    categoryCombos: this.state.categoryCombos,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ editSectionModel: false });\n                    },\n                    onSaveSection: this.handleSectionSaved\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__[\"a\" /* default */], {\n                    open: !!this.state.greyFieldSectionModel,\n                    sectionModel: this.state.greyFieldSectionModel,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ greyFieldSectionModel: false });\n                    },\n                    onRequestSave: this.handleSectionSaved\n                }),\n                this.state.translationModel ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__[\"a\" /* default */], {\n                    objectToTranslate: this.state.translationModel,\n                    objectTypeToTranslate: this.state.translationModel && this.state.translationModel.modelDefinition,\n                    open: !!this.state.translationModel,\n                    onTranslationSaved: this.handleTranslationSaved,\n                    onTranslationError: this.handleTranslationErrored,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ translationModel: null });\n                    },\n                    fieldsToTranslate: ['name']\n                }) : null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.fab },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default.a,\n                        { onClick: this.handleAddSectionClick },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default.a,\n                            { className: 'material-icons' },\n                            'add'\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return EditDataSetSections;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nEditDataSetSections.propTypes = {\n    params: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\nEditDataSetSections.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditDataSetSections);\n\n/***/ }),\n\n/***/ 3733:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = withStateFrom;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nfunction withStateFrom(stateSource$, BaseComponent) {\n    var withStateForm = function (_Component) {\n        _inherits(withStateForm, _Component);\n\n        function withStateForm() {\n            _classCallCheck(this, withStateForm);\n\n            return _possibleConstructorReturn(this, (withStateForm.__proto__ || Object.getPrototypeOf(withStateForm)).apply(this, arguments));\n        }\n\n        _createClass(withStateForm, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                var _this2 = this;\n\n                this.disposable = stateSource$.subscribe(function (state) {\n                    return _this2.setState(state);\n                }, function (error) {\n                    return __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.error(error);\n                });\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this.disposable && this.disposable.unsubscribe && this.disposable.unsubscribe();\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(BaseComponent, _extends({}, this.state, this.props));\n            }\n        }]);\n\n        return withStateForm;\n    }(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\n    withStateForm.displayName = BaseComponent.displayName || BaseComponent.name;\n\n    return withStateForm;\n}\n\n/***/ }),\n\n/***/ 3816:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export default */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__ = __webpack_require__(149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr__ = __webpack_require__(678);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__ = __webpack_require__(3835);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__);\n\n\n\n\n\n\n\n\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion(_ref) {\n    var major = _ref.major,\n        minor = _ref.minor,\n        snapshot = _ref.snapshot;\n\n    if (snapshot) {\n        return 'master';\n    }\n    return '' + major + minor;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    var placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, function (match, variable) {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a).find(function (mappingKey) {\n        var pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n        return new RegExp(pathToMatch).test(path);\n    });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    var variablesToReplace = new Map([['objectType', schema]]);\n    var variablesToReplaceCamel = new Map([['objectType', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__[\"camelCaseToUnderscores\"])(schema)]]);\n\n    var replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nfunction HelpLink(_ref2, _ref3) {\n    var schema = _ref2.schema;\n    var d2 = _ref3.d2;\n\n    var path = window.location.hash.replace(/^#/, '') // Remove leading hash\n    .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    var docsVersion = getDocsVersion(d2.system.version);\n    var docsLink = 'https://docs.dhis2.org/en/use/user-guides/dhis-core-version-' + docsVersion + '/configuring-the-system';\n    var helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default.a,\n            {\n                href: '' + docsLink + helpLink,\n                target: '_blank',\n                rel: 'noopener noreferrer',\n                tooltip: d2.i18n.getTranslation('open_user_guide'),\n                tooltipPosition: 'bottom-center',\n                iconClassName: 'material-icons',\n                iconStyle: { top: -2 }\n            },\n            'help_outline'\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n};\n\nHelpLink.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/***/ }),\n\n/***/ 3835:\n/***/ (function(module, exports) {\n\nmodule.exports = {\"/list/categorySection\":\"/metadata.html#manage_category\",\"/list/dataElementSection\":\"/metadata.html#manage_data_element\",\"/list/dataSetSection\":\"/metadata.html#manage_data_set\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/metadata.html#manage_section_form\",\"/edit/dataSetSection/dataSetNotificationTemplate\":\"/metadata.html#create_data_set_notification\",\"/edit/dataSetSection/dataSet\":\"/metadata.html#create_data_set\",\"/list/indicatorSection/programIndicatorGroup\":\"/programs.html#manage_${objectType}\",\"/list/indicatorSection/programIndicator\":\"/programs.html#configure_program_indicator\",\"/list/indicatorSection\":\"/metadata.html#manage_indicator\",\"/edit/indicatorSection/programIndicator\":\"/programs.html#create_${objectType}\",\"/edit/indicatorSection/programIndicatorGroup\":\"/programs.html#create_${objectType}\",\"/list/organisationUnitSection/organisationUnitLevel\":\"/metadata.html#name_organisation_unit_level\",\"/list/organisationUnitSection\":\"/metadata.html#manage_organisation_unit\",\"organisationUnitSection/hierarchy\":\"/metadata.html#move_organisation_unit\",\"/list/programSection/trackedEntity\":\"/programs.html#configure_tracked_entity\",\"/list/programSection/programRuleVariable\":\"/programs.html#configure_program_rule\",\"/list/programSection/program/\":\"/programs.html#configure_programs_in_maintenance_app\",\"/list/programSection/${objectType}\":\"/programs.html#configure_${objectType}\",\"/list/programSection\":\"/programs.html#configure_programs_in_maintenance_app\",\"/edit/programSection/program/\":\"/programs.html#configure_programs_in_maintenance_app\",\"/edit/programSection/trackedEntityType\":\"/programs.html#create_tracked_entity\",\"/edit/programSection/${objectType}\":\"/programs.html#create_${objectType}\",\"/list/validationSection\":\"/metadata.html#manage_validation_rule\",\"/edit/validationSection/validationNotificationTemplate\":\"/metadata.html#create_validation_notification\",\"/edit/otherSection/attribute\":\"/metadata.html#create-or-edit-an-attribute\",\"/list/otherSection/optionGroup\":\"/metadata.html#create_option_group\",\"/list/otherSection/optionGroupSet\":\"/metadata.html#create_option_group_set\",\"/list/otherSection/legendSet\":\"/metadata.html#manage_legend\",\"/edit/otherSection/legendSet\":\"/metadata.html#create_legend\",\"/list/otherSection/predictorGroup\":\"/metadata.html#create_predictor_group\",\"/list/otherSection/pushAnalysis\":\"/metadata.html#manage_push_report\",\"/edit/otherSection/pushAnalysis\":\"/metadata.html#manage_push_report\",\"/list/otherSection/externalMapLayer\":\"/metadata.html#manage_external_maplayer\",\"/list/otherSection/locale\":\"/metadata.html#maintenance_locale_management\",\"/edit/otherSection/locale\":\"/metadata.html#maintenance_locale_management\",\"/list/otherSection/sqlView\":\"/metadata.html#maintenance_sql_view\",\"/edit/otherSection/sqlView\":\"/metadata.html#maintenance_sql_view\",\"/edit/\":\"/metadata.html#create_${objectType}\",\"/list/\":\"/metadata.html#manage_${objectType}\"}\n\n/***/ }),\n\n/***/ 3836:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__ = __webpack_require__(675);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__ = __webpack_require__(3958);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }).isRequired,\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    open: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (TranslationDialog);\n\n/***/ }),\n\n/***/ 3957:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__ = __webpack_require__(314);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__ = __webpack_require__(207);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nLocaleSelector.propTypes = {\n    value: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n    locales: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        name: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n        locale: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    })).isRequired,\n    onChange: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (LocaleSelector);\n\n/***/ }),\n\n/***/ 3958:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationFormFor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(146);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__ = __webpack_require__(3957);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__translationForm_actions__ = __webpack_require__(3959);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__ = __webpack_require__(3733);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__store_Store__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__ = __webpack_require__(148);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getTranslationFormData(model) {\n    var translationStore = __WEBPACK_IMPORTED_MODULE_9__store_Store__[\"a\" /* default */].create();\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"a\" /* getTranslationsForModel */])(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_5_rxjs__[\"Observable\"].combineLatest(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"b\" /* getLocales */])(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nfunction getTranslationFormFor(model) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__[\"a\" /* default */])(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"c\" /* saveTranslations */])(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__[\"a\" /* default */], { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: fieldName },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default.a, {\n                        floatingLabelText: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__[\"a\" /* default */], { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }),\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (TranslationForm);\n\n/***/ }),\n\n/***/ 3959:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getLocales;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationsForModel;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return saveTranslations; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__action_Action__ = __webpack_require__(128);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\nfunction getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nfunction getTranslationsForModel(model) {\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nvar saveTranslations = __WEBPACK_IMPORTED_MODULE_2__action_Action__[\"a\" /* default */].create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n/***/ }),\n\n/***/ 3984:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(109);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__ = __webpack_require__(310);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__ = __webpack_require__(3816);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__BackButton_component__ = __webpack_require__(3988);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__router_utils__ = __webpack_require__(427);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n\n\nfunction FormHeading(_ref, context) {\n    var level = _ref.level,\n        schema = _ref.schema,\n        children = _ref.children,\n        groupName = _ref.groupName,\n        isDirtyHandler = _ref.isDirtyHandler,\n        skipTranslation = _ref.skipTranslation,\n        props = _objectWithoutProperties(_ref, ['level', 'schema', 'children', 'groupName', 'isDirtyHandler', 'skipTranslation']);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { level: level }),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__BackButton_component__[\"a\" /* default */], {\n            onClick: function onClick() {\n                // Check if there's a previous entry in browser history\n                if (window.history.length > 1) {\n                    window.history.back();\n                } else {\n                    // Fallback to your specific route if no history exists\n                    window.location = '/sims-web-usage-analytics/';\n                }\n            },\n            iconStyle: { top: 3 },\n            isDirtyHandler: isDirtyHandler\n        }),\n        skipTranslation ? children : context.d2.i18n.getTranslation(children)\n    );\n}\n\nFormHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOfType([__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string, __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array]),\n    level: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,\n    isDirtyHandler: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    groupName: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    skipTranslation: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: function isDirtyHandler() {},\n    level: 2,\n    children: '',\n    skipTranslation: false\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(FormHeading));\n\n/***/ }),\n\n/***/ 3988:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__ = __webpack_require__(252);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(109);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__ = __webpack_require__(311);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\nfunction BackButton(props, context) {\n    var tooltip = props.tooltip,\n        onClick = props.onClick,\n        _props$isDirtyHandler = props.isDirtyHandler,\n        isDirtyHandler = _props$isDirtyHandler === undefined ? __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */].getState.bind(__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */]) : _props$isDirtyHandler,\n        otherProps = _objectWithoutProperties(props, ['tooltip', 'onClick', 'isDirtyHandler']);\n\n    var onClickWithConfirm = function onClickWithConfirm() {\n        var isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick.apply(undefined, arguments);\n        } else if (\n        // eslint-disable-next-line no-restricted-globals\n        confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))) {\n            onClick.apply(undefined, arguments);\n        }\n    };\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default.a,\n        _extends({\n            tooltip: tooltip || context.d2.i18n.getTranslation('back'),\n            tooltipPosition: 'bottom-right',\n            onClick: onClickWithConfirm\n        }, otherProps, {\n            iconClassName: 'material-icons'\n        }),\n        '\\uE5C4'\n    );\n}\nBackButton.propTypes = {\n    tooltip: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(BackButton));\n\n/***/ }),\n\n/***/ 4455:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = LoadingMask;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__ = __webpack_require__(148);\n\n\n\n\nvar loadingStatusMask = {\n    left: '45%',\n    position: 'fixed',\n    top: '45%'\n};\n\nfunction LoadingMask(_ref) {\n    var _ref$style = _ref.style,\n        style = _ref$style === undefined ? {} : _ref$style,\n        _ref$large = _ref.large,\n        large = _ref$large === undefined ? false : _ref$large,\n        _ref$small = _ref.small,\n        small = _ref$small === undefined ? false : _ref$small;\n\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'div',\n        { style: Object.assign({}, loadingStatusMask, style) },\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__[\"a\" /* default */], { large: large, small: small })\n    );\n}\n\nLoadingMask.propTypes = {\n    style: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object,\n    large: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,\n    small: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool\n};\n\n/***/ }),\n\n/***/ 4757:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__ = __webpack_require__(310);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\nvar defaultStyle = {\n    fontSize: '1.25rem',\n    paddingTop: '.5rem',\n    fontWeight: 100\n};\n\nfunction FormSubHeading(_ref) {\n    var level = _ref.level,\n        children = _ref.children,\n        props = _objectWithoutProperties(_ref, ['level', 'children']);\n\n    var style = Object.assign({}, defaultStyle, props.style);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { style: style, level: level || 3 }),\n        children\n    );\n}\nFormSubHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string,\n    level: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.number\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FormSubHeading);\n\n/***/ }),\n\n/***/ 4934:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */\n\n(function (global, factory) {\n  ( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, function () {\n  'use strict';\n\n  var entries = Object.entries,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new (Function.prototype.bind.apply(Func, [null].concat(_toConsumableArray(args))))();\n    };\n  }\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringToString = unapply(String.prototype.toString);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n  var objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n  var regExpTest = unapply(RegExp.prototype.test);\n  var typeErrorCreate = unconstruct(TypeError);\n\n  /**\n   * Creates a new function that calls the given function with a specified thisArg and arguments.\n   *\n   * @param {Function} func - The function to be wrapped and called.\n   * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n   */\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      return apply(func, thisArg, args);\n    };\n  }\n\n  /**\n   * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n   *\n   * @param {Function} func - The constructor function to be wrapped and called.\n   * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n   */\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return construct(func, args);\n    };\n  }\n\n  /**\n   * Add properties to a lookup table\n   *\n   * @param {Object} set - The set to which elements will be added.\n   * @param {Array} array - The array containing elements to be added to the set.\n   * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n   * @returns {Object} The modified set with added elements.\n   */\n  function addToSet(set, array) {\n    var transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n    var l = array.length;\n    while (l--) {\n      var element = array[l];\n      if (typeof element === 'string') {\n        var lcElement = transformCaseFunc(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n          element = lcElement;\n        }\n      }\n      set[element] = true;\n    }\n    return set;\n  }\n\n  /**\n   * Clean up an array to harden against CSPP\n   *\n   * @param {Array} array - The array to be cleaned.\n   * @returns {Array} The cleaned version of the array\n   */\n  function cleanArray(array) {\n    for (var index = 0; index < array.length; index++) {\n      var isPropertyExist = objectHasOwnProperty(array, index);\n      if (!isPropertyExist) {\n        array[index] = null;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * Shallow clone an object\n   *\n   * @param {Object} object - The object to be cloned.\n   * @returns {Object} A new object that copies the original.\n   */\n  function clone(object) {\n    var newObject = create(null);\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = entries(object)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var _ref2 = _step.value;\n\n        var _ref3 = _slicedToArray(_ref2, 2);\n\n        var property = _ref3[0];\n        var value = _ref3[1];\n\n        var isPropertyExist = objectHasOwnProperty(object, property);\n        if (isPropertyExist) {\n          if (Array.isArray(value)) {\n            newObject[property] = cleanArray(value);\n          } else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Object) {\n            newObject[property] = clone(value);\n          } else {\n            newObject[property] = value;\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return newObject;\n  }\n\n  /**\n   * This method automatically checks if the prop is function or getter and behaves accordingly.\n   *\n   * @param {Object} object - The object to look up the getter function in its prototype chain.\n   * @param {String} prop - The property name for which to find the getter function.\n   * @returns {Function} The getter function found in the prototype chain or a fallback function.\n   */\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n      object = getPrototypeOf(object);\n    }\n    function fallbackValue() {\n      return null;\n    }\n    return fallbackValue;\n  }\n\n  var html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n  // SVG\n  var svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n  // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  var mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n\n  // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  var text = freeze(['#text']);\n\n  var html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  var svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  var mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  // eslint-disable-next-line unicorn/better-regex\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n  var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  var TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n\n  var DOCTYPE_NAME = seal(/^html$/i);\n\n  var EXPRESSIONS = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    MUSTACHE_EXPR: MUSTACHE_EXPR,\n    ERB_EXPR: ERB_EXPR,\n    TMPLIT_EXPR: TMPLIT_EXPR,\n    DATA_ATTR: DATA_ATTR,\n    ARIA_ATTR: ARIA_ATTR,\n    IS_ALLOWED_URI: IS_ALLOWED_URI,\n    IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE: ATTR_WHITESPACE,\n    DOCTYPE_NAME: DOCTYPE_NAME\n  });\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n   * @return {TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported or creating the policy failed).\n   */\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n    if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    }\n\n    // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n    if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n      suffix = purifyHostElement.getAttribute(ATTR_NAME);\n    }\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html) {\n          return html;\n        },\n        createScriptURL: function createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '3.0.9';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n    var document = window.document;\n\n    var originalDocument = document;\n    var currentScript = originalDocument.currentScript;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        HTMLFormElement = window.HTMLFormElement,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n\n    var ElementPrototype = Element.prototype;\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n    var trustedTypesPolicy = void 0;\n    var emptyHTML = '';\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n    var MUSTACHE_EXPR = EXPRESSIONS.MUSTACHE_EXPR,\n        ERB_EXPR = EXPRESSIONS.ERB_EXPR,\n        TMPLIT_EXPR = EXPRESSIONS.TMPLIT_EXPR,\n        DATA_ATTR = EXPRESSIONS.DATA_ATTR,\n        ARIA_ATTR = EXPRESSIONS.ARIA_ATTR,\n        IS_SCRIPT_OR_DATA = EXPRESSIONS.IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE = EXPRESSIONS.ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$1 = EXPRESSIONS.IS_ALLOWED_URI;\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n    var CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    var ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Decide if self-closing tags in attributes are allowed.\n     * Usually removed due to a mXSS issue in jQuery 3.0 */\n    var ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Track whether config is already set on this instance of DOMPurify. */\n    var SET_CONFIG = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    var FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n    var RETURN_TRUSTED_TYPE = false;\n\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n    var SANITIZE_DOM = true;\n\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (§7.3.3)\n     *   - DOM Tree Accessors (§3.1.5)\n     *   - Form Element Parent-Child Relations (§4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n     *   - HTMLCollection (§4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n    var SANITIZE_NAMED_PROPS = false;\n    var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n    var IN_PLACE = false;\n\n    /* Allow usage of profiles like html, svg and mathMl */\n    var USE_PROFILES = {};\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = null;\n    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n\n    /* Allowed XHTML+XML namespaces */\n    var ALLOWED_NAMESPACES = null;\n    var DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n\n    /* Parsing of strict XHTML documents */\n    var PARSER_MEDIA_TYPE = null;\n    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    var transformCaseFunc = null;\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n    var isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n    var _parseConfig = function _parseConfig() {\n      var cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n\n      /* Shield configuration object from tampering */\n      if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n        cfg = {};\n      }\n\n      /* Shield configuration object from prototype pollution */\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n\n      // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n\n      /* Set configuration parameters */\n      ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n      URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n      // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR,\n      // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS),\n      // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS,\n      // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n      ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n\n      /* Parse profile info */\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, text);\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n\n      /* Merge configuration parameters */\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n\n      /* Add #text in case KEEP_CONTENT is set to true */\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n      if (cfg.TRUSTED_TYPES_POLICY) {\n        if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n        }\n        if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n        }\n\n        // Overwrite existing TrustedTypes policy.\n        trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n        // Sign local variables required by `sanitize`.\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      } else {\n        // Uninitialized policy, attempt to initialize the internal dompurify policy.\n        if (trustedTypesPolicy === undefined) {\n          trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n        }\n\n        // If creating the internal policy succeeded sign internal variables.\n        if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n          emptyHTML = trustedTypesPolicy.createHTML('');\n        }\n      }\n\n      // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n      if (freeze) {\n        freeze(cfg);\n      }\n      CONFIG = cfg;\n    };\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']);\n\n    // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n    var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n    var ALL_SVG_TAGS = addToSet({}, [].concat(_toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(svgDisallowed)));\n    var ALL_MATHML_TAGS = addToSet({}, [].concat(_toConsumableArray(mathMl$1), _toConsumableArray(mathMlDisallowed)));\n\n    /**\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element);\n\n      // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: NAMESPACE,\n          tagName: 'template'\n        };\n      }\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n      if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return false;\n      }\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        }\n\n        // The only way to switch from MathML to SVG is via`\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        }\n\n        // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        }\n\n        // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        }\n\n        // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      }\n\n      // For XHTML and XML documents that support custom namespaces\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return true;\n      }\n\n      // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n      // Return false just in case.\n      return false;\n    };\n\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        node.remove();\n      }\n    };\n\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n      node.removeAttribute(name);\n\n      // We void attribute values for unremovable \"is\"\" attributes\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc = null;\n      var leadingWhitespace = null;\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n\n      /* Use createHTMLDocument in case DOMParser is not available */\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n        } catch (_) {\n          // Syntax error if dirtyPayload is invalid xml\n        }\n      }\n      var body = doc.body || doc.documentElement;\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n\n      /* Work on whole document or just its body */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n\n    /**\n     * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n     *\n     * @param  {Node} root The root element or node to start traversing on.\n     * @return {NodeIterator} The created NodeIterator\n     */\n    var _createNodeIterator = function _createNodeIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null);\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n    var _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n    };\n\n    /**\n     * Checks whether the given object is a DOM node.\n     *\n     * @param  {Node} object object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n    var _isNode = function _isNode(object) {\n      return typeof Node === 'function' && object instanceof Node;\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content = null;\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeElements', currentNode, null);\n\n      /* Check if element is clobbered or can clobber */\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Now let's check the element's type and name */\n      var tagName = transformCaseFunc(currentNode.nodeName);\n\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n\n      /* Detect mXSS attempts abusing namespace confusion */\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove element if anything forbids its presence */\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n            return false;\n          }\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n            return false;\n          }\n        }\n\n        /* Keep content except for bad-listed elements */\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check whether element has a valid namespace */\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Make sure that older browsers don't get fallback-tag mXSS */\n      if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Sanitize element content to be template-safe */\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], function (expr) {\n          content = stringReplace(content, expr, ' ');\n        });\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeElements', currentNode, null);\n      return false;\n    };\n\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ;else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ;else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ;else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ;else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ;else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ;else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ;else if (value) {\n        return false;\n      } else ;\n      return true;\n    };\n\n    /**\n     * _isBasicCustomElement\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     *\n     * @param {string} tagName name of the tag of the node to sanitize\n     * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n     */\n    var _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n      return tagName !== 'annotation-xml' && tagName.indexOf('-') > 0;\n    };\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n      var attributes = currentNode.attributes;\n\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      var l = attributes.length;\n\n      /* Go backwards over all attributes; safely remove bad ones */\n\n      var _loop = function _loop() {\n        var attr = attributes[l];\n        var name = attr.name,\n            namespaceURI = attr.namespaceURI,\n            attrValue = attr.value;\n\n        var lcName = transformCaseFunc(name);\n        var value = name === 'value' ? attrValue : stringTrim(attrValue);\n\n        /* Execute a hook if present */\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n        if (hookEvent.forceKeepAttr) {\n          return 'continue';\n        }\n\n        /* Remove attribute */\n        _removeAttribute(name, currentNode);\n\n        /* Did the hooks approve of the attribute? */\n        if (!hookEvent.keepAttr) {\n          return 'continue';\n        }\n\n        /* Work around a security issue in jQuery 3.0 */\n        if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          return 'continue';\n        }\n\n        /* Sanitize attribute content to be template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], function (expr) {\n            value = stringReplace(value, expr, ' ');\n          });\n        }\n\n        /* Is `value` valid for this attribute? */\n        var lcTag = transformCaseFunc(currentNode.nodeName);\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          return 'continue';\n        }\n\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode);\n\n          // Prefix the value and later re-create the attribute with the sanitized value\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n\n        /* Handle attributes that require Trusted Types */\n        if (trustedTypesPolicy && (typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ;else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                {\n                  value = trustedTypesPolicy.createHTML(value);\n                  break;\n                }\n              case 'TrustedScriptURL':\n                {\n                  value = trustedTypesPolicy.createScriptURL(value);\n                  break;\n                }\n            }\n          }\n        }\n\n        /* Handle invalid data-* attribute set by try-catching it */\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      };\n\n      while (l--) {\n        var _ret = _loop();\n\n        if (_ret === 'continue') continue;\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode = null;\n      var shadowIterator = _createNodeIterator(fragment);\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n\n        /* Deep shadow DOM detected */\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(shadowNode);\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} cfg object\n     */\n    // eslint-disable-next-line complexity\n    DOMPurify.sanitize = function (dirty) {\n      var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var body = null;\n      var importedNode = null;\n      var currentNode = null;\n      var returnNode = null;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n      IS_EMPTY_INPUT = !dirty;\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n\n      /* Stringify, in case dirty is an object */\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        if (typeof dirty.toString === 'function') {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        } else {\n          throw typeErrorCreate('toString is not a function');\n        }\n      }\n\n      /* Return dirty HTML if DOMPurify cannot run */\n      if (!DOMPurify.isSupported) {\n        return dirty;\n      }\n\n      /* Assign config vars */\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n\n      /* Clean up removed elements */\n      DOMPurify.removed = [];\n\n      /* Check if dirty is correctly typed for IN_PLACE */\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          var tagName = transformCaseFunc(dirty.nodeName);\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n\n        /* Initialize the document to work on */\n        body = _initDocument(dirty);\n\n        /* Check we have a DOM node from the data */\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n\n      /* Remove first element node (ours) if FORCE_BODY is set */\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n\n      /* Get node iterator */\n      var nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n      /* Now start iterating over the created document */\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n\n        /* Shadow DOM detected, sanitize it */\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(currentNode);\n      }\n\n      /* If we sanitized `dirty` in-place, return it. */\n      if (IN_PLACE) {\n        return dirty;\n      }\n\n      /* Return sanitized string or DOM */\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n        if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n        return returnNode;\n      }\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n      /* Serialize doctype if allowed */\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n\n      /* Sanitize final string template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], function (expr) {\n          serializedHTML = stringReplace(serializedHTML, expr, ' ');\n        });\n      }\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n    DOMPurify.setConfig = function () {\n      var cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {String} tag Tag name of containing element.\n     * @param  {String} attr Attribute name.\n     * @param  {String} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n      var lcTag = transformCaseFunc(tag);\n      var lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     */\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n    return DOMPurify;\n  }\n  var purify = createDOMPurify();\n\n  return purify;\n});\n//# sourceMappingURL=purify.js.map\n\n/***/ }),\n\n/***/ 4938:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__ = __webpack_require__(675);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(150);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__ = __webpack_require__(699);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__ = __webpack_require__(311);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    dialogContent: {\n        maxWidth: 'none'\n    },\n    dialogDiv: {\n        overflowX: 'auto',\n        overflowY: 'hidden'\n    },\n    table: {\n        borderSpacing: 0,\n        borderCollapse: 'collapse',\n        margin: '32px auto'\n    },\n    th: {\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        border: '1px solid #e0e0e0',\n        padding: 6\n    },\n    thDataElements: {\n        whiteSpace: 'nowrap',\n        border: '1px solid #e0e0e0',\n        background: '#f0f0f0',\n        textAlign: 'left',\n        padding: 6\n    },\n    td: {\n        whiteSpace: 'nowrap',\n        padding: 2,\n        border: '1px solid #e0e0e0',\n        minWidth: 105\n    },\n    tdDataElement: {\n        whiteSpace: 'nowrap',\n        padding: 6,\n        border: '1px solid #e0e0e0'\n    }\n};\n\nvar GreyFieldDialog = function (_React$Component) {\n    _inherits(GreyFieldDialog, _React$Component);\n\n    function GreyFieldDialog(props, context) {\n        _classCallCheck(this, GreyFieldDialog);\n\n        var _this = _possibleConstructorReturn(this, (GreyFieldDialog.__proto__ || Object.getPrototypeOf(GreyFieldDialog)).call(this, props, context));\n\n        _this.state = {\n            categories: []\n        };\n\n        _this.closeDialog = _this.closeDialog.bind(_this);\n        _this.handleSaveClick = _this.handleSaveClick.bind(_this);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(GreyFieldDialog, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this2 = this;\n\n            var d2 = this.context.d2;\n\n            if (props.sectionModel) {\n                var dataElements = props.sectionModel.dataElements.toArray();\n                if (dataElements.length < 1) {\n                    __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.info('Section ' + props.sectionModel.displayName + ' contains no data elements');\n                    __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: this.getTranslation('this_section_has_no_data_elements'), action: 'ok' });\n                    this.props.onRequestClose();\n                    return;\n                }\n\n                var cocMap = {};\n\n                var categoryArrayToMap = function categoryArrayToMap(categories) {\n                    var appendage = null;\n\n                    var reduceAppendage = function reduceAppendage(prev, categoryOption) {\n                        var out = prev;\n                        out[categoryOption.id] = appendage;\n                        return out;\n                    };\n\n                    while (categories.length > 0) {\n                        appendage = categories.pop().categoryOptions.toArray().reduce(reduceAppendage, {});\n                    }\n                    return appendage;\n                };\n\n                var assignCocs = function assignCocs(cocMap, options, coc) {\n                    if (options.length > 0) {\n                        return Object.keys(cocMap).reduce(function (prev, key) {\n                            var out = prev;\n                            var keyPos = options.indexOf(key);\n                            if (keyPos !== -1) {\n                                options.splice(keyPos, 1);\n                                out[key] = assignCocs(cocMap[key], options, coc);\n                                return out;\n                            }\n                            out[key] = cocMap[key];\n                            return out;\n                        }, {});\n                    }\n                    return coc;\n                };\n\n                // Use the categoryCombos associated with the section to get categories and their category options\n                d2.models.categoryCombos.list({\n                    filter: 'id:in:[' + props.sectionModel.categoryCombos.toArray().map(function (coc) {\n                        return coc.id;\n                    }) + ']',\n                    paging: false,\n                    fields: ['id,displayName', 'categories[id,displayName,categoryOptions[id,displayName]]', 'categoryOptionCombos[id,displayName', 'categoryOptions[id,displayName]]'].join(',')\n                }).then(function (categoryCombos) {\n                    categoryCombos.forEach(function (categoryCombo) {\n                        // Build a nested map of categories:\n                        // { cat1_opt1 : { cat2_opt1: { cat3_opt1: null, cat3_opt2: null }, cat2_opt2: {...}, ... }, ... }\n                        //\n                        // Then convert to JSON and back as a fast way to remove any references within the structure\n                        Object.assign(cocMap, JSON.parse(JSON.stringify(categoryArrayToMap(categoryCombo.categories.toArray()))));\n\n                        // Fill in the leaf nodes in the cocMap with the actual coc's\n                        categoryCombo.categoryOptionCombos.toArray().forEach(function (coc) {\n                            var optionPath = coc.categoryOptions.toArray().map(function (o) {\n                                return o.id;\n                            });\n                            cocMap = assignCocs(cocMap, optionPath, { id: coc.id, displayName: coc.displayName });\n                        });\n                    });\n\n                    var greyedFields = props.sectionModel.greyedFields.reduce(function (prev, gf) {\n                        if (prev.hasOwnProperty(gf.dataElement.id)) {\n                            prev[gf.dataElement.id].push(gf.categoryOptionCombo.id);\n                            return prev;\n                        }\n\n                        var out = prev;\n                        out[gf.dataElement.id] = [gf.categoryOptionCombo.id];\n                        return out;\n                    }, {});\n\n                    _this2.setState({\n                        currentCategoryCombo: categoryCombos.toArray()[0].id,\n                        categoryCombos: categoryCombos,\n                        optionCount: categoryCombos.toArray().reduce(function (oc, cc) {\n                            oc[cc.id] = cc.categories.toArray().map(function (c) {\n                                return c.categoryOptions.size;\n                            });\n                            return oc;\n                        }, {}),\n                        cocMap: cocMap,\n                        greyedFields: greyedFields\n                    });\n                });\n            }\n        }\n    }, {\n        key: 'closeDialog',\n        value: function closeDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'handleSaveClick',\n        value: function handleSaveClick() {\n            var _this3 = this;\n\n            var greyedFields = [];\n            Object.keys(this.state.greyedFields).forEach(function (dataElement) {\n                _this3.state.greyedFields[dataElement].forEach(function (coc) {\n                    greyedFields.push({\n                        dataElement: { id: dataElement },\n                        categoryOptionCombo: { id: coc }\n                    });\n                });\n            });\n\n            var section = Object.assign(this.props.sectionModel, { greyedFields: greyedFields });\n\n            section.save().then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.info('Section updated', res);\n                __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('section_saved') });\n                _this3.props.onRequestSave(section);\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.error('Failed to save section:', err);\n                __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_save_section'), action: 'ok' });\n            });\n        }\n    }, {\n        key: 'renderTableHeader',\n        value: function renderTableHeader() {\n            var _this4 = this;\n\n            var prevRowColCount = 1;\n\n            return this.state.currentCategoryCombo && this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.toArray().map(function (cat, catNum) {\n                var colSpan = _this4.state.optionCount[_this4.state.currentCategoryCombo].slice(catNum + 1).reduce(function (product, optionCount) {\n                    return optionCount * product;\n                }, 1);\n\n                var isLastHeader = catNum === _this4.state.categoryCombos.get(_this4.state.currentCategoryCombo).categories.size - 1;\n                var row = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'tr',\n                    { key: catNum },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'th',\n                        { style: styles.thDataElements },\n                        isLastHeader && _this4.getTranslation('data_element')\n                    ),\n\n                    // For each column in the previous row...\n                    Array.apply(undefined, _toConsumableArray(Array(prevRowColCount))).map(function (e, rep) {\n                        return (\n                            // ... render the columns for this row\n                            cat.categoryOptions.toArray().map(function (opt, optNum) {\n                                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                    'th',\n                                    {\n                                        key: optNum + '.' + rep,\n                                        colSpan: colSpan,\n                                        style: styles.th\n                                    },\n                                    opt.displayName === 'default' ? '' : opt.displayName\n                                );\n                            })\n                        );\n                    })\n                );\n                prevRowColCount *= cat.categoryOptions.size;\n                return row;\n            });\n        }\n    }, {\n        key: 'renderCheckbox',\n        value: function renderCheckbox(dataElement, fieldArray, fieldNum) {\n            var _this5 = this;\n\n            var resolveCoc = function resolveCoc(cocMap, fields) {\n                if (fields.length === 0) {\n                    return cocMap;\n                }\n\n                var field = fields.shift();\n                return resolveCoc(cocMap[field], fields);\n            };\n\n            var coc = resolveCoc(this.state.cocMap, fieldArray);\n\n            var isGreyed = this.state.greyedFields.hasOwnProperty(dataElement.id) && this.state.greyedFields[dataElement.id].indexOf(coc.id) !== -1;\n\n            var toggleBoggle = function (dataElementId, categoryOptionComboId, event, disable) {\n                _this5.setState(function (state) {\n                    var greyedCocs = (state.greyedFields[dataElementId] || []).slice();\n                    if (disable) {\n                        if (greyedCocs.includes(categoryOptionComboId)) {\n                            greyedCocs.splice(greyedCocs.indexOf(categoryOptionComboId), 1);\n                        }\n                    } else if (!greyedCocs.includes(categoryOptionComboId)) {\n                        greyedCocs.push(categoryOptionComboId);\n                    }\n\n                    var greyedFields = Object.keys(state.greyedFields).reduce(function (prev, deId) {\n                        var out = prev;\n                        out[deId] = deId === dataElementId ? greyedCocs : state.greyedFields[deId];\n                        return out;\n                    }, {});\n\n                    if (greyedCocs.length > 0 && !greyedFields.hasOwnProperty(dataElementId)) {\n                        greyedFields[dataElementId] = greyedCocs;\n                    }\n\n                    return { greyedFields: greyedFields };\n                });\n            }.bind(this, dataElement.id, coc.id);\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'td',\n                { key: fieldNum, style: styles.td },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default.a, {\n                    checked: !isGreyed,\n                    label: isGreyed ? this.getTranslation('disabled') : this.getTranslation('enabled'),\n                    labelPosition: 'right',\n                    labelStyle: { whiteSpace: 'nowrap' },\n                    onCheck: toggleBoggle\n                })\n            );\n        }\n    }, {\n        key: 'renderDataElements',\n        value: function renderDataElements() {\n            var _this6 = this;\n\n            var getCocFields = function getCocFields() {\n                return _this6.state.categoryCombos.get(_this6.state.currentCategoryCombo).categories.toArray().reduce(function (prev, cat) {\n                    if (prev.length > 0) {\n                        var out = [];\n                        prev.forEach(function (p) {\n                            cat.categoryOptions.toArray().forEach(function (opt) {\n                                var pout = p.slice();\n                                pout.push(opt.id);\n                                out.push(pout);\n                            });\n                        });\n                        return out;\n                    }\n\n                    cat.categoryOptions.toArray().forEach(function (opt) {\n                        prev.push([opt.id]);\n                    });\n                    return prev;\n                }, []);\n            };\n\n            var currentSectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(function (de) {\n                return de.id;\n            });\n            return this.state.currentCategoryCombo ? __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                return currentSectionDataElementIds.includes(dse.dataElement.id);\n            }).filter(function (dse) {\n                return (dse.categoryCombo ? dse.categoryCombo.id : dse.dataElement.categoryCombo.id) === _this6.state.currentCategoryCombo;\n            }).sort(function (a, b) {\n                return currentSectionDataElementIds.indexOf(a.dataElement.id) - currentSectionDataElementIds.indexOf(b.dataElement.id);\n            }).map(function (dse, deNum) {\n                var cocFields = getCocFields();\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'tr',\n                    { key: deNum, style: { background: deNum % 2 === 0 ? 'none' : '#f0f0f0' } },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'td',\n                        { style: styles.tdDataElement },\n                        dse.dataElement.displayName\n                    ),\n                    cocFields.map(function (fields, fieldNum) {\n                        return _this6.renderCheckbox(dse.dataElement, fields, fieldNum);\n                    })\n                );\n            }) : null;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var title = this.props.sectionModel.displayName;\n\n            var _props = this.props,\n                open = _props.open,\n                extraProps = _objectWithoutProperties(_props, ['open']);\n\n            var uniqueCatComboIds = [],\n                sectionDataElementIds = [],\n                categoryCombosForSection = [];\n\n            if (this.props.sectionModel) {\n                // Get data element ids for the current section\n                sectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(function (de) {\n                    return de.id;\n                });\n\n                // Get unique cat combos for data elements in current section\n                categoryCombosForSection = __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                    return sectionDataElementIds.includes(dse.dataElement.id);\n                }).map(function (dse) {\n                    return dse.categoryCombo || dse.dataElement.categoryCombo;\n                }).reduce(function (catCombos, catCombo) {\n                    if (!uniqueCatComboIds.includes(catCombo.id)) {\n                        uniqueCatComboIds.push(catCombo.id);\n                        catCombos.push(catCombo);\n                    }\n                    return catCombos;\n                }, []).sort(function (a, b) {\n                    return a.displayName.localeCompare(b.displayName);\n                });\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    autoScrollBodyContent: true,\n                    autoDetectWindowHeight: true,\n                    title: this.getTranslation('manage_grey_fields') + ': ' + title,\n                    style: { maxWidth: 'none' },\n                    contentStyle: styles.dialogContent,\n                    open: open && this.props.sectionModel.dataElements.size > 0\n                }, extraProps, {\n                    actions: [__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, {\n                        label: this.getTranslation('cancel'),\n                        onTouchTap: this.closeDialog,\n                        style: { marginRight: 16 }\n                    }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                        primary: true,\n                        label: this.getTranslation('save'),\n                        onTouchTap: this.handleSaveClick\n                    })],\n                    onRequestClose: this.closeDialog\n                }),\n                this.props.sectionModel && this.props.sectionModel.categoryCombos && this.props.sectionModel.categoryCombos.size > 1 ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__[\"a\" /* default */], {\n                    options: categoryCombosForSection.map(function (cc) {\n                        return {\n                            value: cc.id,\n                            text: cc.displayName === 'default' ? _this7.getTranslation('none') : cc.displayName\n                        };\n                    }),\n                    labelText: this.getTranslation('category_combo'),\n                    value: this.state.currentCategoryCombo,\n                    onChange: function onChange(e) {\n                        return _this7.setState({\n                            currentCategoryCombo: e.target.value\n                        });\n                    },\n                    style: { width: '33%' },\n                    isRequired: true\n                }) : null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.dialogDiv },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'table',\n                        { style: styles.table },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'tbody',\n                            null,\n                            this.renderTableHeader(),\n                            this.state.currentCategoryCombo && this.props.sectionModel && this.renderDataElements()\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return GreyFieldDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nGreyFieldDialog.contextTypes = { d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired };\nGreyFieldDialog.propTypes = {\n    open: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool.isRequired,\n    sectionModel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onRequestSave: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GreyFieldDialog);\n\n/***/ }),\n\n/***/ 4939:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__ = __webpack_require__(675);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(150);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_RadioButton__ = __webpack_require__(708);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_RadioButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_RadioButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__ = __webpack_require__(442);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_store_Store__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox__ = __webpack_require__(324);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__forms_form_fields_drop_down__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__modelToEditStore__ = __webpack_require__(311);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_material_ui_SelectField__ = __webpack_require__(211);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_material_ui_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_material_ui_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_material_ui_DropDownMenu__ = __webpack_require__(707);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_material_ui_DropDownMenu___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_material_ui_DropDownMenu__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_dompurify__ = __webpack_require__(4934);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_dompurify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_dompurify__);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar dataElementStore = __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar assignedDataElementStore = __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar indicatorStore = __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar assignedIndicatorStore = __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\nvar cleanDisplayOptions = function cleanDisplayOptions(displayOptions) {\n    return _extends({}, displayOptions, {\n        beforeSectionText: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15_dompurify__[\"sanitize\"])(displayOptions.beforeSectionText),\n        afterSectionText: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15_dompurify__[\"sanitize\"])(displayOptions.afterSectionText)\n    });\n};\n\nvar SectionDialog = function (_React$Component) {\n    _inherits(SectionDialog, _React$Component);\n\n    function SectionDialog(props, context) {\n        _classCallCheck(this, SectionDialog);\n\n        var _this = _possibleConstructorReturn(this, (SectionDialog.__proto__ || Object.getPrototypeOf(SectionDialog)).call(this, props, context));\n\n        _this.setAssignedDataElements = function (dataElements) {\n            assignedDataElementStore.setState(dataElements);\n        };\n\n        _this.setAssignedIndicators = function (indicators) {\n            assignedIndicatorStore.setState(indicators);\n        };\n\n        _this.removeIndicators = function (indicators) {\n            assignedIndicatorStore.setState(assignedIndicatorStore.state.filter(function (i) {\n                return indicators.indexOf(i) === -1;\n            }));\n            return Promise.resolve();\n        };\n\n        _this.assignIndicators = function (indicators) {\n            assignedIndicatorStore.setState(assignedIndicatorStore.state.concat(indicators));\n            return Promise.resolve();\n        };\n\n        _this.handleRowTotalsChange = function (e, value) {\n            _this.setState({ showRowTotals: value });\n        };\n\n        _this.handleColumnTotalsChange = function (e, value) {\n            _this.setState({ showColumnTotals: value });\n        };\n\n        _this.handleDisableDataElementAutoGroupChange = function (e, value) {\n            _this.setState({ disableDataElementAutoGroup: value });\n        };\n\n        _this.handleFilterChange = function (e) {\n            _this.setState({ filterText: e.target.value });\n        };\n\n        _this.handleNameChange = function (e) {\n            var sectionArray = Array.isArray(__WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].getState().sections) ? __WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].getState().sections : __WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].getState().sections.toArray();\n            var nameDupe = sectionArray.filter(function (s) {\n                return s.id !== _this.props.sectionModel.id;\n            }).reduce(function (res, s) {\n                return res || s.name === e.target.value;\n            }, false);\n\n            _this.setState({\n                name: e.target.value,\n                nameError: nameDupe ? _this.getTranslation('value_not_unique') : ''\n            });\n        };\n\n        _this.handleCodeChange = function (e) {\n            var sectionArray = Array.isArray(__WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].getState().sections) ? __WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].getState().sections : __WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].getState().sections.toArray();\n            var codeDupe = sectionArray.filter(function (s) {\n                return s.id !== _this.props.sectionModel.id;\n            }).reduce(function (res, s) {\n                return res || s.code && s.code === e.target.value;\n            }, false);\n\n            _this.setState({\n                code: e.target.value,\n                codeError: codeDupe ? _this.getTranslation('value_not_unique') : ''\n            });\n        };\n\n        _this.handleDescriptionChange = function (e) {\n            _this.setState({ description: e.target.value });\n        };\n\n        _this.assignDataElements = function (dataElements) {\n            assignedDataElementStore.setState(assignedDataElementStore.state.concat(dataElements));\n            return Promise.resolve();\n        };\n\n        _this.removeDataElements = function (dataElements) {\n            assignedDataElementStore.setState(assignedDataElementStore.state.filter(function (de) {\n                return dataElements.indexOf(de) === -1;\n            }));\n            return Promise.resolve();\n        };\n\n        _this.handleCategoryComboChange = function (event) {\n            var categoryComboId = event.target.value;\n\n            if (__WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].state.dataSetElements) {\n                dataElementStore.setState(__WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                    if (categoryComboId) {\n                        return dse.categoryCombo ? dse.categoryCombo.id === categoryComboId : dse.dataElement.categoryCombo.id === categoryComboId;\n                    }\n                    return true;\n                }).filter(function (dse) {\n                    return _this.state.filterDataElementIds ? !_this.state.filterDataElementIds.includes(dse.dataElement.id) : true;\n                }).map(function (dse) {\n                    return {\n                        value: dse.dataElement.id,\n                        text: dse.dataElement.displayName\n                    };\n                }).sort(function (a, b) {\n                    return a.text.localeCompare(b.text);\n                }));\n            }\n\n            _this.setState({\n                categoryCombo: categoryComboId\n            });\n        };\n\n        _this.saveSection = function () {\n            if (!_this.state.name || _this.state.name.trim().length === 0) {\n                __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('name_is_required'),\n                    action: _this.getTranslation('ok')\n                });\n                return;\n            }\n\n            var sectionModel = _this.props.sectionModel.id ? _this.props.sectionModel : _this.props.sectionModel.modelDefinition.create();\n\n            var displayOptions = cleanDisplayOptions(_this.state.displayOptions);\n\n            Object.assign(sectionModel, {\n                dataSet: { id: __WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].state.id },\n                name: _this.state.name,\n                code: _this.state.code,\n                description: _this.state.description,\n                showRowTotals: _this.state.showRowTotals,\n                showColumnTotals: _this.state.showColumnTotals,\n                displayOptions: JSON.stringify(displayOptions),\n                disableDataElementAutoGroup: _this.state.disableDataElementAutoGroup,\n                dataElements: assignedDataElementStore.state.map(function (de) {\n                    return {\n                        id: de\n                    };\n                }),\n                indicators: assignedIndicatorStore.state.map(function (i) {\n                    return { id: i };\n                }),\n                sortOrder: _this.props.sectionModel.sortOrder || __WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].state.sections.toArray().reduce(function (prev, s) {\n                    return Math.max(prev, s.sortOrder + 1);\n                }, 0)\n            });\n            sectionModel.save().then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('section_saved')\n                });\n                _this.context.d2.models.sections.get(res.response.uid, {\n                    fields: [':all,dataElements[id,categoryCombo[id,displayName]]', 'greyedFields[categoryOptionCombo,dataElement]'].join(',')\n                }).then(function (section) {\n                    _this.props.onSaveSection(section);\n                });\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.warn('Failed to save section:', err);\n                __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('failed_to_save_section'),\n                    action: _this.getTranslation('ok')\n                });\n            });\n        };\n\n        _this.handleChoosePivotMode = function (e, pivotMode) {\n            var _ref = _this.state.categories || [],\n                _ref2 = _slicedToArray(_ref, 1),\n                firstCategory = _ref2[0];\n\n            var categoryId = firstCategory ? firstCategory.id : null;\n            var pivotedCategory = pivotMode === 'move_categories' ? categoryId : null;\n            _this.setState({\n                displayOptions: _extends({}, _this.state.displayOptions, {\n                    pivotMode: pivotMode,\n                    pivotedCategory: pivotedCategory\n                })\n            });\n        };\n\n        _this.handlePivotCategoryChoice = function (event, i, pivotedCategoryValue) {\n            _this.setState({\n                displayOptions: _extends({}, _this.state.displayOptions, {\n                    pivotedCategory: pivotedCategoryValue\n                })\n            });\n        };\n\n        _this.handleSectionTextUpdate = function (fieldName) {\n            return function (ev, text) {\n                _this.setState(function (prevState) {\n                    return {\n                        displayOptions: _extends({}, prevState.displayOptions, _defineProperty({}, fieldName, text))\n                    };\n                });\n            };\n        };\n\n        _this.renderSectionDisplayConfigurationOptions = function () {\n            var pivotOptions = [{\n                value: 'n/a',\n                text: _this.getTranslation('pivot_default')\n            }, {\n                value: 'pivot',\n                text: _this.getTranslation('pivot_move_data_elements_to_column')\n            }, {\n                value: 'move_categories',\n                text: _this.getTranslation('pivot_move_category_to_row')\n            }];\n            var isMoveCategoryMode = _this.state.displayOptions.pivotMode === 'move_categories';\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'label',\n                    null,\n                    _this.getTranslation('pivot_options')\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_6_material_ui_RadioButton__[\"RadioButtonGroup\"],\n                    {\n                        onChange: _this.handleChoosePivotMode,\n                        valueSelected: _this.state.displayOptions.pivotMode,\n                        name: 'pivotOptions',\n                        defaultSelected: 'n/a'\n                    },\n                    pivotOptions.map(function (_ref3) {\n                        var value = _ref3.value,\n                            text = _ref3.text;\n\n                        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_material_ui_RadioButton__[\"RadioButton\"], {\n                            key: value,\n                            value: value,\n                            label: text,\n                            style: { margin: '10px' }\n                        });\n                    })\n                ),\n                isMoveCategoryMode && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_13_material_ui_SelectField___default.a,\n                    {\n                        style: { marginLeft: '50px', marginTop: '-16px' },\n                        floatingLabelFixed: true,\n                        floatingLabelText: _this.getTranslation('pivot_category_to_move_to_row'),\n                        value: _this.state.displayOptions.pivotedCategory,\n                        onChange: _this.handlePivotCategoryChoice\n                    },\n                    _this.state.categories.map(function (cat) {\n                        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_14_material_ui_DropDownMenu__[\"MenuItem\"], {\n                            value: cat.id,\n                            primaryText: cat.displayName\n                        });\n                    })\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: { marginTop: '16px' } },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        null,\n                        _this.getTranslation('section_text_descriptions')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                        fullWidth: true,\n                        hintText: _this.getTranslation('section_before_text'),\n                        defaultValue: _this.state.displayOptions.beforeSectionText,\n                        onChange: _this.handleSectionTextUpdate('beforeSectionText')\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                        fullWidth: true,\n                        hintText: _this.getTranslation('section_after_text'),\n                        defaultValue: _this.state.displayOptions.afterSectionText,\n                        onChange: _this.handleSectionTextUpdate('afterSectionText')\n                    })\n                )\n            );\n        };\n\n        _this.renderFilters = function () {\n            var catCombos = [{ value: false, text: _this.getTranslation('no_filter') }].concat(_this.props.categoryCombos.sort(function (a, b) {\n                return a.text.localeCompare(b.text);\n            }));\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minWidth: 605 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__forms_form_fields_drop_down__[\"a\" /* default */], {\n                    options: catCombos,\n                    labelText: _this.getTranslation('category_combo_filter'),\n                    onChange: _this.handleCategoryComboChange,\n                    value: _this.state.categoryCombo,\n                    isRequired: true,\n                    disabled: _this.props.categoryCombos.length === 1,\n                    style: { width: 284 }\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    fullWidth: true,\n                    hintText: _this.getTranslation('search_available_selected_items'),\n                    defaultValue: _this.state.filterText,\n                    onChange: _this.handleFilterChange\n                })\n            );\n        };\n\n        _this.renderAvailableOptions = function () {\n            var labelStyle = {\n                position: 'relative',\n                display: 'block',\n                width: '100%',\n                lineHeight: '24px',\n                color: 'rgba(0,0,0,0.3)',\n                marginTop: '1.25rem',\n                fontSize: 16\n            };\n\n            var editorStyle = {\n                marginBottom: 80\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: editorStyle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { style: labelStyle },\n                        _this.getTranslation('data_elements')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__[\"a\" /* default */], {\n                        itemStore: dataElementStore,\n                        assignedItemStore: assignedDataElementStore,\n                        onAssignItems: _this.assignDataElements,\n                        onRemoveItems: _this.removeDataElements,\n                        onOrderChanged: _this.setAssignedDataElements,\n                        height: 250,\n                        filterText: _this.state.filterText\n                    })\n                ),\n                indicatorStore.state.length ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: editorStyle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { style: labelStyle },\n                        _this.getTranslation('indicators')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__[\"a\" /* default */], {\n                        itemStore: indicatorStore,\n                        assignedItemStore: assignedIndicatorStore,\n                        onAssignItems: _this.assignIndicators,\n                        onRemoveItems: _this.removeIndicators,\n                        onOrderChanged: _this.setAssignedIndicators,\n                        height: 250,\n                        filterText: _this.state.filterText\n                    })\n                ) : null\n            );\n        };\n\n        _this.state = {\n            categoryCombo: false,\n            disableDataElementAutoGroup: false,\n            displayOptions: {\n                pivotMode: null,\n                pivotedCategory: null\n            },\n            categories: []\n        };\n        dataElementStore.setState([]);\n        assignedDataElementStore.setState([]);\n        indicatorStore.setState([]);\n        assignedIndicatorStore.setState([]);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(SectionDialog, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.subscriptions = [];\n            this.subscriptions.push(assignedDataElementStore.subscribe(function () {\n                _this2.forceUpdate();\n            }));\n\n            var d2 = this.context.d2;\n            var categoryCombos = this.props.categoryCombos.map(function (coc) {\n                return coc.value;\n            }).join(',');\n\n            return d2.models.categories.list({\n                filter: 'categoryCombos.id:in:[' + categoryCombos + ']',\n                paging: false,\n                fields: ['id,displayName', 'categoryCombos[id]'].join(',')\n            }).then(function (response) {\n                var categories = response.toArray();\n\n                _this2.setState({\n                    categories: categories\n                });\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'Something went wrong.' + err, action: 'ok' });\n            });\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this3 = this;\n\n            if (props.sectionModel) {\n                var currentSectionId = props.sectionModel.id;\n                var sections = __WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].state.sections;\n                var sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n                var otherSections = sectionArray.filter(function (s) {\n                    return s.id !== currentSectionId;\n                });\n                var filterDataElementIds = otherSections.reduce(function (elements, section) {\n                    return elements.concat((Array.isArray(section.dataElements) ? section.dataElements : section.dataElements.toArray()).map(function (de) {\n                        return de.id;\n                    }));\n                }, []);\n\n                // Default category combo filter = no filter\n                var categoryComboId = false;\n\n                assignedDataElementStore.setState(props.sectionModel.dataElements ? props.sectionModel.dataElements.toArray().map(function (de) {\n                    return de.id;\n                }) : []);\n\n                indicatorStore.setState(__WEBPACK_IMPORTED_MODULE_12__modelToEditStore__[\"a\" /* default */].state.indicators.toArray().map(function (i) {\n                    return { value: i.id, text: i.displayName };\n                }).sort(function (a, b) {\n                    return a.text.localeCompare(b.text);\n                }));\n                assignedIndicatorStore.setState(props.sectionModel.indicators ? props.sectionModel.indicators.toArray().map(function (i) {\n                    return i.id;\n                }) : []);\n\n                this.setState({\n                    name: props.sectionModel.name,\n                    code: props.sectionModel.code,\n                    nameError: '',\n                    codeError: '',\n                    description: props.sectionModel.description,\n                    showRowTotals: props.sectionModel.showRowTotals,\n                    showColumnTotals: props.sectionModel.showColumnTotals,\n                    displayOptions: props.sectionModel.displayOptions ? JSON.parse(props.sectionModel.displayOptions) : {},\n                    disableDataElementAutoGroup: props.sectionModel.disableDataElementAutoGroup,\n                    filterText: '',\n                    filterDataElementIds: filterDataElementIds\n                }, function () {\n                    _this3.handleCategoryComboChange({\n                        target: { value: categoryComboId }\n                    });\n                    _this3.forceUpdate();\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.subscriptions.forEach(function (disposable) {\n                return disposable.unsubscribe();\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var title = this.getTranslation('add_section');\n            var sectionIdDiv = null;\n\n            if (this.props.sectionModel.id) {\n                title = this.getTranslation('edit_section');\n                sectionIdDiv = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    {\n                        style: {\n                            float: 'left',\n                            padding: 8,\n                            color: 'rgba(0,0,0,0.5)'\n                        }\n                    },\n                    this.getTranslation('section_id'),\n                    ':',\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'span',\n                        { style: { fontFamily: 'monospace' } },\n                        this.props.sectionModel.id\n                    )\n                );\n            }\n\n            var validateName = function validateName(e) {\n                _this4.setState({\n                    nameError: e.target.value.trim().length > 0 ? '' : _this4.getTranslation('value_required')\n                });\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    autoScrollBodyContent: true,\n                    title: title,\n                    actions: [sectionIdDiv, __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, {\n                        label: this.getTranslation('cancel'),\n                        onTouchTap: this.props.onRequestClose,\n                        style: { marginRight: 24 }\n                    }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                        primary: true,\n                        label: this.getTranslation('save'),\n                        onTouchTap: this.saveSection\n                    })]\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('name') + ' *',\n                    value: this.state.name || '',\n                    style: { width: '100%' },\n                    onChange: this.handleNameChange,\n                    errorText: this.state.nameError,\n                    onBlur: validateName\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('code'),\n                    value: this.state.code || '',\n                    style: { width: '100%' },\n                    onChange: this.handleCodeChange,\n                    errorText: this.state.codeError\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('description'),\n                    value: this.state.description || '',\n                    style: { width: '100%' },\n                    multiLine: true,\n                    onChange: this.handleDescriptionChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('show_row_totals'),\n                    checked: this.state.showRowTotals,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleRowTotalsChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('show_column_totals'),\n                    checked: this.state.showColumnTotals,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleColumnTotalsChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('disable_data_element_auto_group'),\n                    checked: this.state.disableDataElementAutoGroup,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleDisableDataElementAutoGroupChange\n                }),\n                this.renderFilters(),\n                this.renderAvailableOptions(),\n                this.renderSectionDisplayConfigurationOptions()\n            );\n        }\n    }]);\n\n    return SectionDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nSectionDialog.propTypes = {\n    open: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool.isRequired,\n    sectionModel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired,\n    categoryCombos: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array.isRequired,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onSaveSection: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\nSectionDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SectionDialog);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 8-6c7fdf65414f50ce6020.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport log from 'loglevel';\n\nimport TranslationDialog from 'd2-ui/lib/i18n/TranslationDialog.component';\nimport LoadingMask from 'd2-ui/lib/loading-mask/LoadingMask.component';\n\nimport DataTable from 'd2-ui/lib/data-table/DataTable.component';\nimport FloatingActionButton from 'material-ui/FloatingActionButton/FloatingActionButton';\nimport FontIcon from 'material-ui/FontIcon/FontIcon';\n\nimport SectionDialog from './SectionDialog.component';\nimport GreyFieldDialog from './GreyFieldDialog.component';\n\nimport snackActions from '../Snackbar/snack.actions';\nimport modelToEditStore from './modelToEditStore';\nimport FormHeading from './FormHeading';\nimport FormSubHeading from './FormSubHeading';\n\nconst styles = {\n    heading: {\n        paddingBottom: 18,\n    },\n    fab: {\n        textAlign: 'right',\n        marginTop: '1rem',\n        bottom: '1.5rem',\n        right: '1.5rem',\n        position: 'fixed',\n        zIndex: 10,\n    },\n};\n\nclass EditDataSetSections extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categoryCombos: null,\n            editSectionModel: false,\n            greyFieldSectionModel: false,\n        };\n\n        Promise.all([\n            context.d2.Api.getApi().get(\n                ['dataSets', props.params.modelId, 'categoryCombos'].join('/'),\n                { fields: 'id,displayName', paging: false },\n            ),\n        ]).then(([catComboList]) => {\n            const sections = modelToEditStore.state.sections;\n            const sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            this.setState({\n                sections: sectionArray.sort((a, b) => a.sortOrder - b.sortOrder),\n                categoryCombos: catComboList.categoryCombos.map(cc => ({\n                    value: cc.id,\n                    text: cc.displayName === 'default' ? this.getTranslation('none') : cc.displayName,\n                })),\n            });\n        });\n\n        this.handleAddSectionClick = this.handleAddSectionClick.bind(this);\n        this.handleEditSectionClick = this.handleEditSectionClick.bind(this);\n        this.handleSectionSaved = this.handleSectionSaved.bind(this);\n\n        this.handleDeleteSectionClick = this.handleDeleteSectionClick.bind(this);\n        this.handleTranslateSectionClick = this.handleTranslateSectionClick.bind(this);\n        this.handleTranslationSaved = this.handleTranslationSaved.bind(this);\n        this.handleTranslationErrored = this.handleTranslationErrored.bind(this);\n\n        this.handleSectionGreyFieldsClick = this.handleSectionGreyFieldsClick.bind(this);\n\n        this.swapSections = this.swapSections.bind(this);\n        this.moveSectionUp = this.moveSectionUp.bind(this);\n        this.moveSectionDown = this.moveSectionDown.bind(this);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    handleAddSectionClick() {\n        const newSection = this.context.d2.models.sections.create();\n        this.setState(state => ({\n            editSectionModel: Object.assign(newSection, {\n                dataSet: { id: modelToEditStore.state.id },\n                sortOrder: state.sections.reduce((p, s) => Math.max(s.sortOrder, p), 0) + 1,\n            }),\n        }));\n    }\n\n    handleEditSectionClick(editSectionModel) {\n        this.setState({ editSectionModel });\n    }\n\n    handleSectionSaved(savedSection) {\n        this.setState((state) => {\n            let replaced = false;\n            const sections = state.sections\n                .map((s) => {\n                    if (s.id === savedSection.id) {\n                        replaced = true;\n                        return savedSection;\n                    }\n                    return s;\n                })\n                .sort((a, b) => a.sortOrder - b.sortOrder);\n            if (!replaced) {\n                sections.push(savedSection);\n            }\n\n            modelToEditStore.setState(Object.assign(modelToEditStore.state, { sections }));\n            return {\n                editSectionModel: false,\n                greyFieldSectionModel: false,\n                sections,\n            };\n        }, () => {\n            this.forceUpdate();\n        });\n    }\n\n    handleDeleteSectionClick(section) {\n        snackActions.show({\n            message: `${this.getTranslation('confirm_delete_section')} ${section.displayName}`,\n            action: 'confirm',\n            onActionTouchTap: () => {\n                section.delete()\n                    .then(() => {\n                        const newSections = modelToEditStore.state.sections;\n                        modelToEditStore.setState(Object.assign(modelToEditStore.state, {\n                            sections: (Array.isArray(newSections)\n                                ? newSections\n                                : newSections.toArray()).filter(s => s.id !== section.id),\n                        }));\n\n                        snackActions.show({ message: this.getTranslation('section_deleted') });\n                        this.setState(state => ({\n                            sections: state.sections.filter(s => s.id !== section.id),\n                        }));\n                    })\n                    .catch((err) => {\n                        snackActions.show({ message: this.getTranslation('failed_to_delete_section'), action: 'ok' });\n                        log.warn('Failed to delete section', err);\n                    });\n            },\n        });\n    }\n\n    handleTranslateSectionClick(section) {\n        this.setState({\n            translationModel: section,\n        });\n    }\n\n    handleTranslationSaved = () => {\n        snackActions.show({ message: 'translation_saved', translate: true });\n    }\n\n    handleTranslationErrored = (errorMessage) => {\n        log.error(errorMessage);\n        snackActions.show({ message: 'translation_save_error', action: 'ok', translate: true });\n    }\n\n    handleSectionGreyFieldsClick(section) {\n        this.setState({ greyFieldSectionModel: section });\n    }\n\n    swapSections(sectionA, sectionB) {\n        this.setState((state) => {\n            const swapOrder = sectionA.sortOrder;\n            sectionA.sortOrder = sectionB.sortOrder; // eslint-disable-line\n            sectionB.sortOrder = swapOrder; // eslint-disable-line\n\n            Promise.all([\n                sectionA.save(),\n                sectionB.save(),\n            ])\n                .then(() => {\n                    snackActions.show({ message: this.getTranslation('section_moved') });\n                })\n                .catch((err) => {\n                    log.warn('Failed to swap sections:', err);\n                    snackActions.show({ message: this.getTranslation('failed_to_move_section'), action: 'ok' });\n                });\n\n            return {\n                sections: state.sections.sort((a, b) => a.sortOrder - b.sortOrder),\n            };\n        });\n    }\n\n    moveSectionUp(section) {\n        const currentIndex = this.state.sections.indexOf(section);\n        if (currentIndex > 0) {\n            const swapSection = this.state.sections[currentIndex - 1];\n            this.swapSections(swapSection, section);\n        }\n    }\n\n    moveSectionDown(section) {\n        const currentIndex = this.state.sections.indexOf(section);\n        if (currentIndex < this.state.sections.length - 1) {\n            const swapSection = this.state.sections[currentIndex + 1];\n            this.swapSections(swapSection, section);\n        }\n    }\n\n    render() {\n        const contextActions = {\n            edit: this.handleEditSectionClick,\n            delete: this.handleDeleteSectionClick,\n            translate: this.handleTranslateSectionClick,\n            manage_grey_fields: this.handleSectionGreyFieldsClick,\n            move_up: this.moveSectionUp,\n            move_down: this.moveSectionDown,\n        };\n\n        const contextMenuIcons = {\n            edit: 'edit',\n            move_up: 'arrow_upward',\n            move_down: 'arrow_downward',\n            manage_grey_fields: 'do_not_disturb',\n        };\n\n        const contextActionChecker = (model, action) => {\n            if (action === 'move_up') {\n                return this.state.sections.indexOf(model) > 0;\n            } else if (action === 'move_down') {\n                return this.state.sections.indexOf(model) < this.state.sections.length - 1;\n            }\n\n            return true;\n        };\n\n        return this.state.sections === undefined ? <LoadingMask /> : (\n            <div>\n                <FormHeading schema=\"dataSet\" groupName=\"dataSetSection\">\n                    {'section_management'}\n                </FormHeading>\n                <FormSubHeading>\n                    {modelToEditStore.state.displayName}\n                </FormSubHeading>\n                <DataTable\n                    columns={['name']}\n                    rows={this.state.sections}\n                    contextMenuActions={contextActions}\n                    contextMenuIcons={contextMenuIcons}\n                    primaryAction={contextActions.edit}\n                    isContextActionAllowed={contextActionChecker}\n                />\n                <SectionDialog\n                    open={!!this.state.editSectionModel}\n                    sectionModel={this.state.editSectionModel}\n                    categoryCombos={this.state.categoryCombos}\n                    onRequestClose={() => { this.setState({ editSectionModel: false }); }}\n                    onSaveSection={this.handleSectionSaved}\n                />\n                <GreyFieldDialog\n                    open={!!this.state.greyFieldSectionModel}\n                    sectionModel={this.state.greyFieldSectionModel}\n                    onRequestClose={() => { this.setState({ greyFieldSectionModel: false }); }}\n                    onRequestSave={this.handleSectionSaved}\n                />\n                {this.state.translationModel ? <TranslationDialog\n                    objectToTranslate={this.state.translationModel}\n                    objectTypeToTranslate={this.state.translationModel && this.state.translationModel.modelDefinition}\n                    open={!!this.state.translationModel}\n                    onTranslationSaved={this.handleTranslationSaved}\n                    onTranslationError={this.handleTranslationErrored}\n                    onRequestClose={() => { this.setState({ translationModel: null }); }}\n                    fieldsToTranslate={['name']}\n                /> : null }\n                <div style={styles.fab}>\n                    <FloatingActionButton onClick={this.handleAddSectionClick}>\n                        <FontIcon className=\"material-icons\">add</FontIcon>\n                    </FloatingActionButton>\n                </div>\n            </div>\n        );\n    }\n}\n\nEditDataSetSections.propTypes = {\n    params: PropTypes.any.isRequired,\n};\nEditDataSetSections.contextTypes = {\n    d2: PropTypes.any.isRequired,\n};\n\nexport default EditDataSetSections;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/EditDataSetSections.component.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport log from 'loglevel';\n\nexport default function withStateFrom(stateSource$, BaseComponent) {\n    var withStateForm = function (_Component) {\n        _inherits(withStateForm, _Component);\n\n        function withStateForm() {\n            _classCallCheck(this, withStateForm);\n\n            return _possibleConstructorReturn(this, (withStateForm.__proto__ || Object.getPrototypeOf(withStateForm)).apply(this, arguments));\n        }\n\n        _createClass(withStateForm, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                var _this2 = this;\n\n                this.disposable = stateSource$.subscribe(function (state) {\n                    return _this2.setState(state);\n                }, function (error) {\n                    return log.error(error);\n                });\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this.disposable && this.disposable.unsubscribe && this.disposable.unsubscribe();\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return React.createElement(BaseComponent, _extends({}, this.state, this.props));\n            }\n        }]);\n\n        return withStateForm;\n    }(Component);\n\n    withStateForm.displayName = BaseComponent.displayName || BaseComponent.name;\n\n    return withStateForm;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/component-helpers/withStateFrom.js\n// module id = 3733\n// module chunks = 1 2 3 4 5 8 9 10 13 14","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from 'material-ui/IconButton';\nimport { camelCaseToUnderscores } from 'd2-utilizr';\n\nimport inlineHelpMapping from '../config/inlinehelp-mapping.json';\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && inlineHelpMapping[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion({ major, minor, snapshot }) {\n    if (snapshot) {\n        return 'master';\n    }\n    return `${major}${minor}`;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    const placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, (match, variable) => {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(inlineHelpMapping)\n        .find((mappingKey) => {\n            const pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n            return (new RegExp(pathToMatch)).test(path);\n        });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(inlineHelpMapping[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    const variablesToReplace = new Map([['objectType', schema]]);\n    const variablesToReplaceCamel = new Map([['objectType', camelCaseToUnderscores(schema)]]);\n\n    const replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nexport default function HelpLink({ schema }, { d2 }) {\n    const path = window.location.hash\n        .replace(/^#/, '') // Remove leading hash\n        .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    const docsVersion = getDocsVersion(d2.system.version)\n    const docsLink = `https://docs.dhis2.org/en/use/user-guides/dhis-core-version-${docsVersion}/configuring-the-system`\n    const helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return (\n            <IconButton\n                href={`${docsLink}${helpLink}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                tooltip={d2.i18n.getTranslation('open_user_guide')}\n                tooltipPosition=\"bottom-center\"\n                iconClassName=\"material-icons\"\n                iconStyle={{ top: -2 }}\n            >\n                help_outline\n            </IconButton>\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: PropTypes.string.isRequired,\n};\n\nHelpLink.contextTypes = {\n    d2: PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/List/HelpLink.component.js","module.exports = {\"/list/categorySection\":\"/metadata.html#manage_category\",\"/list/dataElementSection\":\"/metadata.html#manage_data_element\",\"/list/dataSetSection\":\"/metadata.html#manage_data_set\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/metadata.html#manage_section_form\",\"/edit/dataSetSection/dataSetNotificationTemplate\":\"/metadata.html#create_data_set_notification\",\"/edit/dataSetSection/dataSet\":\"/metadata.html#create_data_set\",\"/list/indicatorSection/programIndicatorGroup\":\"/programs.html#manage_${objectType}\",\"/list/indicatorSection/programIndicator\":\"/programs.html#configure_program_indicator\",\"/list/indicatorSection\":\"/metadata.html#manage_indicator\",\"/edit/indicatorSection/programIndicator\":\"/programs.html#create_${objectType}\",\"/edit/indicatorSection/programIndicatorGroup\":\"/programs.html#create_${objectType}\",\"/list/organisationUnitSection/organisationUnitLevel\":\"/metadata.html#name_organisation_unit_level\",\"/list/organisationUnitSection\":\"/metadata.html#manage_organisation_unit\",\"organisationUnitSection/hierarchy\":\"/metadata.html#move_organisation_unit\",\"/list/programSection/trackedEntity\":\"/programs.html#configure_tracked_entity\",\"/list/programSection/programRuleVariable\":\"/programs.html#configure_program_rule\",\"/list/programSection/program/\":\"/programs.html#configure_programs_in_maintenance_app\",\"/list/programSection/${objectType}\":\"/programs.html#configure_${objectType}\",\"/list/programSection\":\"/programs.html#configure_programs_in_maintenance_app\",\"/edit/programSection/program/\":\"/programs.html#configure_programs_in_maintenance_app\",\"/edit/programSection/trackedEntityType\":\"/programs.html#create_tracked_entity\",\"/edit/programSection/${objectType}\":\"/programs.html#create_${objectType}\",\"/list/validationSection\":\"/metadata.html#manage_validation_rule\",\"/edit/validationSection/validationNotificationTemplate\":\"/metadata.html#create_validation_notification\",\"/edit/otherSection/attribute\":\"/metadata.html#create-or-edit-an-attribute\",\"/list/otherSection/optionGroup\":\"/metadata.html#create_option_group\",\"/list/otherSection/optionGroupSet\":\"/metadata.html#create_option_group_set\",\"/list/otherSection/legendSet\":\"/metadata.html#manage_legend\",\"/edit/otherSection/legendSet\":\"/metadata.html#create_legend\",\"/list/otherSection/predictorGroup\":\"/metadata.html#create_predictor_group\",\"/list/otherSection/pushAnalysis\":\"/metadata.html#manage_push_report\",\"/edit/otherSection/pushAnalysis\":\"/metadata.html#manage_push_report\",\"/list/otherSection/externalMapLayer\":\"/metadata.html#manage_external_maplayer\",\"/list/otherSection/locale\":\"/metadata.html#maintenance_locale_management\",\"/edit/otherSection/locale\":\"/metadata.html#maintenance_locale_management\",\"/list/otherSection/sqlView\":\"/metadata.html#maintenance_sql_view\",\"/edit/otherSection/sqlView\":\"/metadata.html#maintenance_sql_view\",\"/edit/\":\"/metadata.html#create_${objectType}\",\"/list/\":\"/metadata.html#manage_${objectType}\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/inlinehelp-mapping.json\n// module id = 3835\n// module chunks = 0 1 2 3 4 8 11","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { config } from 'd2/lib/d2';\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport { getTranslationFormFor } from './TranslationForm.component';\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: getTranslationFormFor(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                Dialog,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                React.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: getTranslationFormFor(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(Component);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }).isRequired,\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    open: PropTypes.bool,\n    onRequestClose: PropTypes.func.isRequired,\n    fieldsToTranslate: PropTypes.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationDialog;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationDialog.component.js\n// module id = 3836\n// module chunks = 1 2 3 4 8 9","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return React.createElement(MenuItem, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return React.createElement(\n                SelectField,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(Component);\n\nLocaleSelector.propTypes = {\n    value: PropTypes.string,\n    locales: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        locale: PropTypes.string.isRequired\n    })).isRequired,\n    onChange: PropTypes.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default LocaleSelector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/LocaleSelector.component.js\n// module id = 3957\n// module chunks = 1 2 3 4 8 9","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from 'material-ui/TextField/TextField';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport { Observable } from 'rxjs';\nimport LocaleSelector from '../i18n/LocaleSelector.component';\nimport { getLocales, getTranslationsForModel, saveTranslations } from './translationForm.actions';\nimport withStateFrom from '../component-helpers/withStateFrom';\nimport Store from '../store/Store';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nfunction getTranslationFormData(model) {\n    var translationStore = Store.create();\n\n    getTranslationsForModel(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return Observable.combineLatest(getLocales(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nexport function getTranslationFormFor(model) {\n    return withStateFrom(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: camelCaseToUnderscores(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            saveTranslations(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return React.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                React.createElement(CircularProgress, { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return React.createElement(\n                    'div',\n                    { key: fieldName },\n                    React.createElement(TextField, {\n                        floatingLabelText: _this2.getTranslation(camelCaseToUnderscores(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    React.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return React.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                React.createElement(RaisedButton, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                React.createElement(RaisedButton, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return React.createElement(\n                'div',\n                null,\n                React.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return React.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                React.createElement(LocaleSelector, { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(Component);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }),\n    fieldsToTranslate: PropTypes.arrayOf(PropTypes.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationForm;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationForm.component.js\n// module id = 3958\n// module chunks = 1 2 3 4 8 9","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { getInstance as getD2 } from 'd2/lib/d2';\nimport { Observable } from 'rxjs';\nimport { getInstance } from 'd2/lib/d2';\nimport Action from '../action/Action';\n\nexport function getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = getD2().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return Observable.fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nexport function getTranslationsForModel(model) {\n    return Observable.of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return getInstance().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nexport var saveTranslations = Action.create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    getInstance().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/translationForm.actions.js\n// module id = 3959\n// module chunks = 1 2 3 4 8 9","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport HelpLink from '../List/HelpLink.component';\nimport BackButton from './BackButton.component';\nimport { goToAndScrollUp } from '../router-utils';\n\nfunction FormHeading({ level, schema, children, groupName, isDirtyHandler, skipTranslation, ...props }, context) {\n    return (\n        <Heading {...props} level={level}>\n            <BackButton\n                onClick={() => {\n                    // Check if there's a previous entry in browser history\n                    if (window.history.length > 1) {\n                        window.history.back();\n                    } else {\n                        // Fallback to your specific route if no history exists\n                        window.location = '/sims-web-usage-analytics/';\n                    }\n                }}\n                iconStyle={{ top: 3 }}\n                isDirtyHandler={isDirtyHandler}\n            />\n            {skipTranslation ? children : context.d2.i18n.getTranslation(children)}\n            {/* {schema && (<HelpLink schema={schema} />)} */}\n        </Heading>\n    );\n}\n\nFormHeading.propTypes = {\n    children: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.array,\n    ]),\n    level: PropTypes.number,\n    isDirtyHandler: PropTypes.func,\n    schema: PropTypes.string.isRequired,\n    groupName: PropTypes.string.isRequired,\n    skipTranslation: PropTypes.bool,\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: () => {},\n    level: 2,\n    children: '',\n    skipTranslation: false,\n};\n\nexport default addD2Context(FormHeading);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormHeading.js","import React from 'react';\nimport IconButton from 'material-ui/IconButton/IconButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport modelToEditStore from '../EditModel/modelToEditStore';\n\nfunction BackButton(props, context) {\n    const { tooltip, onClick, isDirtyHandler = modelToEditStore.getState.bind(modelToEditStore), ...otherProps } = props;\n    const onClickWithConfirm = (...params) => {\n        const isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick(...params);\n        } else if (\n            // eslint-disable-next-line no-restricted-globals\n            confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))\n        ) {\n            onClick(...params);\n        }\n    };\n\n    return (\n        <IconButton\n            tooltip={tooltip || context.d2.i18n.getTranslation('back')}\n            tooltipPosition=\"bottom-right\"\n            onClick={onClickWithConfirm}\n            {...otherProps}\n            iconClassName=\"material-icons\"\n        >\n            &#xE5C4;\n        </IconButton>\n    );\n}\nBackButton.propTypes = {\n    tooltip: React.PropTypes.string,\n};\n\nexport default addD2Context(BackButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/BackButton.component.js","import PropTypes from 'prop-types';\nimport React from 'react';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nvar loadingStatusMask = {\n    left: '45%',\n    position: 'fixed',\n    top: '45%'\n};\n\nexport default function LoadingMask(_ref) {\n    var _ref$style = _ref.style,\n        style = _ref$style === undefined ? {} : _ref$style,\n        _ref$large = _ref.large,\n        large = _ref$large === undefined ? false : _ref$large,\n        _ref$small = _ref.small,\n        small = _ref$small === undefined ? false : _ref$small;\n\n    return React.createElement(\n        'div',\n        { style: Object.assign({}, loadingStatusMask, style) },\n        React.createElement(CircularProgress, { large: large, small: small })\n    );\n}\n\nLoadingMask.propTypes = {\n    style: PropTypes.object,\n    large: PropTypes.bool,\n    small: PropTypes.bool\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/loading-mask/LoadingMask.component.js\n// module id = 4455\n// module chunks = 2 8 15","import React from 'react';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\n\nconst defaultStyle = {\n    fontSize: '1.25rem',\n    paddingTop: '.5rem',\n    fontWeight: 100,\n};\n\nfunction FormSubHeading({ level, children, ...props }) {\n    const style = Object.assign({}, defaultStyle, props.style);\n\n    return (\n        <Heading {...props} style={style} level={level || 3}>\n            {children}\n        </Heading>\n    );\n}\nFormSubHeading.propTypes = {\n    children: React.PropTypes.string,\n    level: React.PropTypes.number,\n};\n\nexport default FormSubHeading;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormSubHeading.js","/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, (function () { 'use strict';\n\n  const {\n    entries,\n    setPrototypeOf,\n    isFrozen,\n    getPrototypeOf,\n    getOwnPropertyDescriptor\n  } = Object;\n  let {\n    freeze,\n    seal,\n    create\n  } = Object; // eslint-disable-line import/no-mutable-exports\n  let {\n    apply,\n    construct\n  } = typeof Reflect !== 'undefined' && Reflect;\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new Func(...args);\n    };\n  }\n  const arrayForEach = unapply(Array.prototype.forEach);\n  const arrayPop = unapply(Array.prototype.pop);\n  const arrayPush = unapply(Array.prototype.push);\n  const stringToLowerCase = unapply(String.prototype.toLowerCase);\n  const stringToString = unapply(String.prototype.toString);\n  const stringMatch = unapply(String.prototype.match);\n  const stringReplace = unapply(String.prototype.replace);\n  const stringIndexOf = unapply(String.prototype.indexOf);\n  const stringTrim = unapply(String.prototype.trim);\n  const objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n  const regExpTest = unapply(RegExp.prototype.test);\n  const typeErrorCreate = unconstruct(TypeError);\n\n  /**\n   * Creates a new function that calls the given function with a specified thisArg and arguments.\n   *\n   * @param {Function} func - The function to be wrapped and called.\n   * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n   */\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      return apply(func, thisArg, args);\n    };\n  }\n\n  /**\n   * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n   *\n   * @param {Function} func - The constructor function to be wrapped and called.\n   * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n   */\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return construct(func, args);\n    };\n  }\n\n  /**\n   * Add properties to a lookup table\n   *\n   * @param {Object} set - The set to which elements will be added.\n   * @param {Array} array - The array containing elements to be added to the set.\n   * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n   * @returns {Object} The modified set with added elements.\n   */\n  function addToSet(set, array) {\n    let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n    let l = array.length;\n    while (l--) {\n      let element = array[l];\n      if (typeof element === 'string') {\n        const lcElement = transformCaseFunc(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n          element = lcElement;\n        }\n      }\n      set[element] = true;\n    }\n    return set;\n  }\n\n  /**\n   * Clean up an array to harden against CSPP\n   *\n   * @param {Array} array - The array to be cleaned.\n   * @returns {Array} The cleaned version of the array\n   */\n  function cleanArray(array) {\n    for (let index = 0; index < array.length; index++) {\n      const isPropertyExist = objectHasOwnProperty(array, index);\n      if (!isPropertyExist) {\n        array[index] = null;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * Shallow clone an object\n   *\n   * @param {Object} object - The object to be cloned.\n   * @returns {Object} A new object that copies the original.\n   */\n  function clone(object) {\n    const newObject = create(null);\n    for (const [property, value] of entries(object)) {\n      const isPropertyExist = objectHasOwnProperty(object, property);\n      if (isPropertyExist) {\n        if (Array.isArray(value)) {\n          newObject[property] = cleanArray(value);\n        } else if (value && typeof value === 'object' && value.constructor === Object) {\n          newObject[property] = clone(value);\n        } else {\n          newObject[property] = value;\n        }\n      }\n    }\n    return newObject;\n  }\n\n  /**\n   * This method automatically checks if the prop is function or getter and behaves accordingly.\n   *\n   * @param {Object} object - The object to look up the getter function in its prototype chain.\n   * @param {String} prop - The property name for which to find the getter function.\n   * @returns {Function} The getter function found in the prototype chain or a fallback function.\n   */\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      const desc = getOwnPropertyDescriptor(object, prop);\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n      object = getPrototypeOf(object);\n    }\n    function fallbackValue() {\n      return null;\n    }\n    return fallbackValue;\n  }\n\n  const html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n  // SVG\n  const svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  const svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n  // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n  const svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  const mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n\n  // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n  const mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  const text = freeze(['#text']);\n\n  const html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  const svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  const mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  const xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  // eslint-disable-next-line unicorn/better-regex\n  const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n  const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n  const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n  const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n  const IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n\n  const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  const ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n\n  const DOCTYPE_NAME = seal(/^html$/i);\n\n  var EXPRESSIONS = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    MUSTACHE_EXPR: MUSTACHE_EXPR,\n    ERB_EXPR: ERB_EXPR,\n    TMPLIT_EXPR: TMPLIT_EXPR,\n    DATA_ATTR: DATA_ATTR,\n    ARIA_ATTR: ARIA_ATTR,\n    IS_ALLOWED_URI: IS_ALLOWED_URI,\n    IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE: ATTR_WHITESPACE,\n    DOCTYPE_NAME: DOCTYPE_NAME\n  });\n\n  const getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n   * @return {TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported or creating the policy failed).\n   */\n  const _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n    if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    }\n\n    // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n    let suffix = null;\n    const ATTR_NAME = 'data-tt-policy-suffix';\n    if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n      suffix = purifyHostElement.getAttribute(ATTR_NAME);\n    }\n    const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML(html) {\n          return html;\n        },\n        createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n  function createDOMPurify() {\n    let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n    const DOMPurify = root => createDOMPurify(root);\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '3.0.9';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n    let {\n      document\n    } = window;\n    const originalDocument = document;\n    const currentScript = originalDocument.currentScript;\n    const {\n      DocumentFragment,\n      HTMLTemplateElement,\n      Node,\n      Element,\n      NodeFilter,\n      NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n      HTMLFormElement,\n      DOMParser,\n      trustedTypes\n    } = window;\n    const ElementPrototype = Element.prototype;\n    const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n      const template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n    let trustedTypesPolicy;\n    let emptyHTML = '';\n    const {\n      implementation,\n      createNodeIterator,\n      createDocumentFragment,\n      getElementsByTagName\n    } = document;\n    const {\n      importNode\n    } = originalDocument;\n    let hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n    const {\n      MUSTACHE_EXPR,\n      ERB_EXPR,\n      TMPLIT_EXPR,\n      DATA_ATTR,\n      ARIA_ATTR,\n      IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE\n    } = EXPRESSIONS;\n    let {\n      IS_ALLOWED_URI: IS_ALLOWED_URI$1\n    } = EXPRESSIONS;\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n    let ALLOWED_TAGS = null;\n    const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n\n    /* Allowed attribute names */\n    let ALLOWED_ATTR = null;\n    const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n    let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    let FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    let FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    let ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    let ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Decide if self-closing tags in attributes are allowed.\n     * Usually removed due to a mXSS issue in jQuery 3.0 */\n    let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    let SAFE_FOR_TEMPLATES = false;\n\n    /* Decide if document with <html>... should be returned */\n    let WHOLE_DOCUMENT = false;\n\n    /* Track whether config is already set on this instance of DOMPurify. */\n    let SET_CONFIG = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    let FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    let RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n    let RETURN_DOM_FRAGMENT = false;\n\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n    let RETURN_TRUSTED_TYPE = false;\n\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n    let SANITIZE_DOM = true;\n\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (§7.3.3)\n     *   - DOM Tree Accessors (§3.1.5)\n     *   - Form Element Parent-Child Relations (§4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n     *   - HTMLCollection (§4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n    let SANITIZE_NAMED_PROPS = false;\n    const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n    /* Keep element content when removing element? */\n    let KEEP_CONTENT = true;\n\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n    let IN_PLACE = false;\n\n    /* Allow usage of profiles like html, svg and mathMl */\n    let USE_PROFILES = {};\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    let FORBID_CONTENTS = null;\n    const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n    /* Tags that are safe for data: URIs */\n    let DATA_URI_TAGS = null;\n    const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n    /* Attributes safe for values like \"javascript:\" */\n    let URI_SAFE_ATTRIBUTES = null;\n    const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n    let NAMESPACE = HTML_NAMESPACE;\n    let IS_EMPTY_INPUT = false;\n\n    /* Allowed XHTML+XML namespaces */\n    let ALLOWED_NAMESPACES = null;\n    const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n\n    /* Parsing of strict XHTML documents */\n    let PARSER_MEDIA_TYPE = null;\n    const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    let transformCaseFunc = null;\n\n    /* Keep a reference to config to pass to hooks */\n    let CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    const formElement = document.createElement('form');\n    const isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n    const _parseConfig = function _parseConfig() {\n      let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n\n      /* Shield configuration object from tampering */\n      if (!cfg || typeof cfg !== 'object') {\n        cfg = {};\n      }\n\n      /* Shield configuration object from prototype pollution */\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n\n      // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n\n      /* Set configuration parameters */\n      ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n      URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n      // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR,\n      // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS),\n      // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS,\n      // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n      ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n\n      /* Parse profile info */\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, text);\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n\n      /* Merge configuration parameters */\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n\n      /* Add #text in case KEEP_CONTENT is set to true */\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n      if (cfg.TRUSTED_TYPES_POLICY) {\n        if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n        }\n        if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n        }\n\n        // Overwrite existing TrustedTypes policy.\n        trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n        // Sign local variables required by `sanitize`.\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      } else {\n        // Uninitialized policy, attempt to initialize the internal dompurify policy.\n        if (trustedTypesPolicy === undefined) {\n          trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n        }\n\n        // If creating the internal policy succeeded sign internal variables.\n        if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n          emptyHTML = trustedTypesPolicy.createHTML('');\n        }\n      }\n\n      // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n      if (freeze) {\n        freeze(cfg);\n      }\n      CONFIG = cfg;\n    };\n    const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    const HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']);\n\n    // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n    const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n    const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n    const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n\n    /**\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n    const _checkValidNamespace = function _checkValidNamespace(element) {\n      let parent = getParentNode(element);\n\n      // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: NAMESPACE,\n          tagName: 'template'\n        };\n      }\n      const tagName = stringToLowerCase(element.tagName);\n      const parentTagName = stringToLowerCase(parent.tagName);\n      if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return false;\n      }\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        }\n\n        // The only way to switch from MathML to SVG is via`\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        }\n\n        // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        }\n\n        // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        }\n\n        // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      }\n\n      // For XHTML and XML documents that support custom namespaces\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return true;\n      }\n\n      // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n      // Return false just in case.\n      return false;\n    };\n\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n    const _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        node.remove();\n      }\n    };\n\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n    const _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n      node.removeAttribute(name);\n\n      // We void attribute values for unremovable \"is\"\" attributes\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n    const _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      let doc = null;\n      let leadingWhitespace = null;\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n      const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n\n      /* Use createHTMLDocument in case DOMParser is not available */\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n        } catch (_) {\n          // Syntax error if dirtyPayload is invalid xml\n        }\n      }\n      const body = doc.body || doc.documentElement;\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n\n      /* Work on whole document or just its body */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n\n    /**\n     * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n     *\n     * @param  {Node} root The root element or node to start traversing on.\n     * @return {NodeIterator} The created NodeIterator\n     */\n    const _createNodeIterator = function _createNodeIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null);\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n    const _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n    };\n\n    /**\n     * Checks whether the given object is a DOM node.\n     *\n     * @param  {Node} object object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n    const _isNode = function _isNode(object) {\n      return typeof Node === 'function' && object instanceof Node;\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n    const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n      arrayForEach(hooks[entryPoint], hook => {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n    const _sanitizeElements = function _sanitizeElements(currentNode) {\n      let content = null;\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeElements', currentNode, null);\n\n      /* Check if element is clobbered or can clobber */\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Now let's check the element's type and name */\n      const tagName = transformCaseFunc(currentNode.nodeName);\n\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n\n      /* Detect mXSS attempts abusing namespace confusion */\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove element if anything forbids its presence */\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n            return false;\n          }\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n            return false;\n          }\n        }\n\n        /* Keep content except for bad-listed elements */\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n          if (childNodes && parentNode) {\n            const childCount = childNodes.length;\n            for (let i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check whether element has a valid namespace */\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Make sure that older browsers don't get fallback-tag mXSS */\n      if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Sanitize element content to be template-safe */\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          content = stringReplace(content, expr, ' ');\n        });\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeElements', currentNode, null);\n      return false;\n    };\n\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n    const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n        return false;\n      } else ;\n      return true;\n    };\n\n    /**\n     * _isBasicCustomElement\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     *\n     * @param {string} tagName name of the tag of the node to sanitize\n     * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n     */\n    const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n      return tagName !== 'annotation-xml' && tagName.indexOf('-') > 0;\n    };\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n    const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n      const {\n        attributes\n      } = currentNode;\n\n      /* Check if we have attributes; if not we might have a text node */\n      if (!attributes) {\n        return;\n      }\n      const hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      let l = attributes.length;\n\n      /* Go backwards over all attributes; safely remove bad ones */\n      while (l--) {\n        const attr = attributes[l];\n        const {\n          name,\n          namespaceURI,\n          value: attrValue\n        } = attr;\n        const lcName = transformCaseFunc(name);\n        let value = name === 'value' ? attrValue : stringTrim(attrValue);\n\n        /* Execute a hook if present */\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n\n        /* Remove attribute */\n        _removeAttribute(name, currentNode);\n\n        /* Did the hooks approve of the attribute? */\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n\n        /* Work around a security issue in jQuery 3.0 */\n        if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Sanitize attribute content to be template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n            value = stringReplace(value, expr, ' ');\n          });\n        }\n\n        /* Is `value` valid for this attribute? */\n        const lcTag = transformCaseFunc(currentNode.nodeName);\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode);\n\n          // Prefix the value and later re-create the attribute with the sanitized value\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n\n        /* Handle attributes that require Trusted Types */\n        if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ; else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                {\n                  value = trustedTypesPolicy.createHTML(value);\n                  break;\n                }\n              case 'TrustedScriptURL':\n                {\n                  value = trustedTypesPolicy.createScriptURL(value);\n                  break;\n                }\n            }\n          }\n        }\n\n        /* Handle invalid data-* attribute set by try-catching it */\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n    const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      let shadowNode = null;\n      const shadowIterator = _createNodeIterator(fragment);\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n\n        /* Deep shadow DOM detected */\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(shadowNode);\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} cfg object\n     */\n    // eslint-disable-next-line complexity\n    DOMPurify.sanitize = function (dirty) {\n      let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let body = null;\n      let importedNode = null;\n      let currentNode = null;\n      let returnNode = null;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n      IS_EMPTY_INPUT = !dirty;\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n\n      /* Stringify, in case dirty is an object */\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        if (typeof dirty.toString === 'function') {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        } else {\n          throw typeErrorCreate('toString is not a function');\n        }\n      }\n\n      /* Return dirty HTML if DOMPurify cannot run */\n      if (!DOMPurify.isSupported) {\n        return dirty;\n      }\n\n      /* Assign config vars */\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n\n      /* Clean up removed elements */\n      DOMPurify.removed = [];\n\n      /* Check if dirty is correctly typed for IN_PLACE */\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          const tagName = transformCaseFunc(dirty.nodeName);\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n\n        /* Initialize the document to work on */\n        body = _initDocument(dirty);\n\n        /* Check we have a DOM node from the data */\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n\n      /* Remove first element node (ours) if FORCE_BODY is set */\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n\n      /* Get node iterator */\n      const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n      /* Now start iterating over the created document */\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n\n        /* Shadow DOM detected, sanitize it */\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(currentNode);\n      }\n\n      /* If we sanitized `dirty` in-place, return it. */\n      if (IN_PLACE) {\n        return dirty;\n      }\n\n      /* Return sanitized string or DOM */\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n        if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n        return returnNode;\n      }\n      let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n      /* Serialize doctype if allowed */\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n\n      /* Sanitize final string template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          serializedHTML = stringReplace(serializedHTML, expr, ' ');\n        });\n      }\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n    DOMPurify.setConfig = function () {\n      let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {String} tag Tag name of containing element.\n     * @param  {String} attr Attribute name.\n     * @param  {String} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n      const lcTag = transformCaseFunc(tag);\n      const lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     */\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n    return DOMPurify;\n  }\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./~/dompurify/dist/purify.js","import React from 'react';\nimport log from 'loglevel';\n\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport Checkbox from 'material-ui/Checkbox/Checkbox';\nimport DropDown from '../forms/form-fields/drop-down';\n\nimport snackActions from '../Snackbar/snack.actions';\n\nimport modelToEditStore from './modelToEditStore';\n\n\nconst styles = {\n    dialogContent: {\n        maxWidth: 'none',\n    },\n    dialogDiv: {\n        overflowX: 'auto',\n        overflowY: 'hidden',\n    },\n    table: {\n        borderSpacing: 0,\n        borderCollapse: 'collapse',\n        margin: '32px auto',\n    },\n    th: {\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        border: '1px solid #e0e0e0',\n        padding: 6,\n    },\n    thDataElements: {\n        whiteSpace: 'nowrap',\n        border: '1px solid #e0e0e0',\n        background: '#f0f0f0',\n        textAlign: 'left',\n        padding: 6,\n    },\n    td: {\n        whiteSpace: 'nowrap',\n        padding: 2,\n        border: '1px solid #e0e0e0',\n        minWidth: 105,\n    },\n    tdDataElement: {\n        whiteSpace: 'nowrap',\n        padding: 6,\n        border: '1px solid #e0e0e0',\n    },\n};\n\nclass GreyFieldDialog extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categories: [],\n        };\n\n        this.closeDialog = this.closeDialog.bind(this);\n        this.handleSaveClick = this.handleSaveClick.bind(this);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    componentWillReceiveProps(props) {\n        const d2 = this.context.d2;\n\n        if (props.sectionModel) {\n            const dataElements = props.sectionModel.dataElements.toArray();\n            if (dataElements.length < 1) {\n                log.info(`Section ${props.sectionModel.displayName} contains no data elements`);\n                snackActions.show({ message: this.getTranslation('this_section_has_no_data_elements'), action: 'ok' });\n                this.props.onRequestClose();\n                return;\n            }\n\n            let cocMap = {};\n\n            const categoryArrayToMap = (categories) => {\n                let appendage = null;\n\n                const reduceAppendage = (prev, categoryOption) => {\n                    const out = prev;\n                    out[categoryOption.id] = appendage;\n                    return out;\n                };\n\n                while (categories.length > 0) {\n                    appendage = categories.pop().categoryOptions.toArray().reduce(reduceAppendage, {});\n                }\n                return appendage;\n            };\n\n            const assignCocs = (cocMap, options, coc) => {\n                if (options.length > 0) {\n                    return Object.keys(cocMap).reduce((prev, key) => {\n                        const out = prev;\n                        const keyPos = options.indexOf(key);\n                        if (keyPos !== -1) {\n                            options.splice(keyPos, 1);\n                            out[key] = assignCocs(cocMap[key], options, coc);\n                            return out;\n                        }\n                        out[key] = cocMap[key];\n                        return out;\n                    }, {});\n                }\n                return coc;\n            };\n\n            // Use the categoryCombos associated with the section to get categories and their category options\n            d2.models.categoryCombos.list({\n                filter: `id:in:[${props.sectionModel.categoryCombos.toArray().map(coc => coc.id)}]`,\n                paging: false,\n                fields: [\n                    'id,displayName',\n                    'categories[id,displayName,categoryOptions[id,displayName]]',\n                    'categoryOptionCombos[id,displayName',\n                    'categoryOptions[id,displayName]]',\n                ].join(','),\n            })\n            .then((categoryCombos) => {\n                categoryCombos.forEach((categoryCombo) => {\n                    // Build a nested map of categories:\n                    // { cat1_opt1 : { cat2_opt1: { cat3_opt1: null, cat3_opt2: null }, cat2_opt2: {...}, ... }, ... }\n                    //\n                    // Then convert to JSON and back as a fast way to remove any references within the structure\n                    Object.assign(\n                        cocMap,\n                        JSON.parse(JSON.stringify(categoryArrayToMap(categoryCombo.categories.toArray())))\n                    );\n\n                    // Fill in the leaf nodes in the cocMap with the actual coc's\n                    categoryCombo.categoryOptionCombos.toArray().forEach((coc) => {\n                        const optionPath = coc.categoryOptions.toArray().map(o => o.id);\n                        cocMap = assignCocs(cocMap, optionPath, { id: coc.id, displayName: coc.displayName });\n                    });\n                });\n\n                const greyedFields = props.sectionModel.greyedFields.reduce((prev, gf) => {\n                    if (prev.hasOwnProperty(gf.dataElement.id)) {\n                        prev[gf.dataElement.id].push(gf.categoryOptionCombo.id);\n                        return prev;\n                    }\n\n                    const out = prev;\n                    out[gf.dataElement.id] = [gf.categoryOptionCombo.id];\n                    return out;\n                }, {});\n\n                this.setState({\n                    currentCategoryCombo: categoryCombos.toArray()[0].id,\n                    categoryCombos,\n                    optionCount: categoryCombos.toArray()\n                        .reduce((oc, cc) => {\n                            oc[cc.id] = cc.categories.toArray().map(c => c.categoryOptions.size);\n                            return oc;\n                        }, {}),\n                    cocMap,\n                    greyedFields,\n                });\n            });\n        }\n    }\n\n    closeDialog() {\n        this.props.onRequestClose();\n    }\n\n    handleSaveClick() {\n        const greyedFields = [];\n        Object.keys(this.state.greyedFields).forEach((dataElement) => {\n            this.state.greyedFields[dataElement].forEach((coc) => {\n                greyedFields.push({\n                    dataElement: { id: dataElement },\n                    categoryOptionCombo: { id: coc },\n                });\n            });\n        });\n\n        const section = Object.assign(this.props.sectionModel, { greyedFields });\n\n        section\n            .save()\n            .then((res) => {\n                log.info('Section updated', res);\n                snackActions.show({ message: this.getTranslation('section_saved') });\n                this.props.onRequestSave(section);\n            })\n            .catch((err) => {\n                log.error('Failed to save section:', err);\n                snackActions.show({ message: this.getTranslation('failed_to_save_section'), action: 'ok' });\n            });\n    }\n\n    renderTableHeader() {\n        let prevRowColCount = 1;\n\n        return this.state.currentCategoryCombo && (\n            this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.toArray().map((cat, catNum) => {\n                const colSpan = this.state.optionCount[this.state.currentCategoryCombo]\n                    .slice(catNum + 1)\n                    .reduce((product, optionCount) => optionCount * product, 1);\n\n                const isLastHeader = catNum === this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.size - 1;\n                const row = (\n                    <tr key={catNum}>\n                        <th style={styles.thDataElements}>{isLastHeader && this.getTranslation('data_element')}</th>\n                        {\n                            // For each column in the previous row...\n                            Array(...Array(prevRowColCount)).map((e, rep) =>\n                                // ... render the columns for this row\n                                 cat.categoryOptions.toArray().map((opt, optNum) => (\n                                     <th\n                                         key={`${optNum}.${rep}`}\n                                         colSpan={colSpan}\n                                         style={styles.th}\n                                     >{opt.displayName === 'default' ? '' : opt.displayName}</th>\n                                    )))\n                        }\n                    </tr>\n                );\n                prevRowColCount *= cat.categoryOptions.size;\n                return row;\n            })\n        );\n    }\n\n    renderCheckbox(dataElement, fieldArray, fieldNum) {\n        const resolveCoc = (cocMap, fields) => {\n            if (fields.length === 0) {\n                return cocMap;\n            }\n\n            const field = fields.shift();\n            return resolveCoc(cocMap[field], fields);\n        };\n\n        const coc = resolveCoc(this.state.cocMap, fieldArray);\n\n        const isGreyed =\n            this.state.greyedFields.hasOwnProperty(dataElement.id) &&\n            this.state.greyedFields[dataElement.id].indexOf(coc.id) !== -1;\n\n        const toggleBoggle = ((dataElementId, categoryOptionComboId, event, disable) => {\n            this.setState((state) => {\n                const greyedCocs = (state.greyedFields[dataElementId] || []).slice();\n                if (disable) {\n                    if (greyedCocs.includes(categoryOptionComboId)) {\n                        greyedCocs.splice(greyedCocs.indexOf(categoryOptionComboId), 1);\n                    }\n                } else if (!greyedCocs.includes(categoryOptionComboId)) {\n                    greyedCocs.push(categoryOptionComboId);\n                }\n\n                const greyedFields = Object.keys(state.greyedFields)\n                    .reduce((prev, deId) => {\n                        const out = prev;\n                        out[deId] = deId === dataElementId ? greyedCocs : state.greyedFields[deId];\n                        return out;\n                    }, {});\n\n                if (greyedCocs.length > 0 && !greyedFields.hasOwnProperty(dataElementId)) {\n                    greyedFields[dataElementId] = greyedCocs;\n                }\n\n                return { greyedFields };\n            });\n        }).bind(this, dataElement.id, coc.id);\n\n        return (\n            <td key={fieldNum} style={styles.td}>\n                <Checkbox\n                    checked={!isGreyed}\n                    label={isGreyed ? this.getTranslation('disabled') : this.getTranslation('enabled')}\n                    labelPosition=\"right\"\n                    labelStyle={{ whiteSpace: 'nowrap' }}\n                    onCheck={toggleBoggle}\n                />\n            </td>\n        );\n    }\n\n    renderDataElements() {\n        const getCocFields = () => this.state.categoryCombos.get(this.state.currentCategoryCombo).categories\n                .toArray()\n                .reduce((prev, cat) => {\n                    if (prev.length > 0) {\n                        const out = [];\n                        prev.forEach((p) => {\n                            cat.categoryOptions.toArray().forEach((opt) => {\n                                const pout = p.slice();\n                                pout.push(opt.id);\n                                out.push(pout);\n                            });\n                        });\n                        return out;\n                    }\n\n                    cat.categoryOptions.toArray().forEach((opt) => {\n                        prev.push([opt.id]);\n                    });\n                    return prev;\n                }, []);\n\n        const currentSectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(de => de.id);\n        return this.state.currentCategoryCombo ?\n            modelToEditStore.state.dataSetElements\n                .filter(dse => currentSectionDataElementIds.includes(dse.dataElement.id))\n                .filter(dse => (dse.categoryCombo ? dse.categoryCombo.id : dse.dataElement.categoryCombo.id) === this.state.currentCategoryCombo)\n                .sort((a, b) => currentSectionDataElementIds.indexOf(a.dataElement.id) - currentSectionDataElementIds.indexOf(b.dataElement.id))\n                .map((dse, deNum) => {\n                    const cocFields = getCocFields();\n                    return (\n                        <tr key={deNum} style={{ background: deNum % 2 === 0 ? 'none' : '#f0f0f0' }}>\n                            <td style={styles.tdDataElement}>{dse.dataElement.displayName}</td>\n                            {cocFields.map((fields, fieldNum) => this.renderCheckbox(dse.dataElement, fields, fieldNum))}\n                        </tr>\n                    );\n                }) : null;\n    }\n\n    render() {\n        const title = this.props.sectionModel.displayName;\n        const {\n            open,\n            ...extraProps\n        } = this.props;\n\n        let uniqueCatComboIds = [],\n            sectionDataElementIds = [],\n            categoryCombosForSection = [];\n\n        if (this.props.sectionModel) {\n            // Get data element ids for the current section\n            sectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(de => de.id);\n\n            // Get unique cat combos for data elements in current section\n            categoryCombosForSection = modelToEditStore.state.dataSetElements\n                .filter(dse => sectionDataElementIds.includes(dse.dataElement.id))\n                .map(dse => dse.categoryCombo || dse.dataElement.categoryCombo)\n                .reduce((catCombos, catCombo) => {\n                    if (!uniqueCatComboIds.includes(catCombo.id)) {\n                        uniqueCatComboIds.push(catCombo.id);\n                        catCombos.push(catCombo);\n                    }\n                    return catCombos;\n                }, [])\n                .sort((a, b) => a.displayName.localeCompare(b.displayName));\n        }\n\n        return (\n            <Dialog\n                autoScrollBodyContent\n                autoDetectWindowHeight\n                title={`${this.getTranslation('manage_grey_fields')}: ${title}`}\n                style={{ maxWidth: 'none' }}\n                contentStyle={styles.dialogContent}\n                open={open && this.props.sectionModel.dataElements.size > 0}\n                {...extraProps}\n                actions={[\n                    <FlatButton\n                        label={this.getTranslation('cancel')}\n                        onTouchTap={this.closeDialog}\n                        style={{ marginRight: 16 }}\n                    />,\n                    <RaisedButton\n                        primary\n                        label={this.getTranslation('save')}\n                        onTouchTap={this.handleSaveClick}\n                    />,\n                ]}\n                onRequestClose={this.closeDialog}\n            >\n                {this.props.sectionModel && this.props.sectionModel.categoryCombos && this.props.sectionModel.categoryCombos.size > 1 ? (\n                    <DropDown\n                        options={categoryCombosForSection.map(cc => ({\n                            value: cc.id,\n                            text: cc.displayName === 'default' ? this.getTranslation('none') : cc.displayName,\n                        }))}\n                        labelText={this.getTranslation('category_combo')}\n                        value={this.state.currentCategoryCombo}\n                        onChange={e => this.setState({\n                            currentCategoryCombo: e.target.value,\n                        })}\n                        style={{ width: '33%' }}\n                        isRequired\n                    />\n                ) : null}\n                <div style={styles.dialogDiv}>\n                    <table style={styles.table}>\n                        <tbody>\n                            {this.renderTableHeader()}\n                            {this.state.currentCategoryCombo && this.props.sectionModel && this.renderDataElements()}\n                        </tbody>\n                    </table>\n                </div>\n            </Dialog>\n        );\n    }\n}\n\nGreyFieldDialog.contextTypes = { d2: React.PropTypes.any.isRequired };\nGreyFieldDialog.propTypes = {\n    open: React.PropTypes.bool.isRequired,\n    sectionModel: React.PropTypes.any.isRequired,\n    onRequestClose: React.PropTypes.func.isRequired,\n    onRequestSave: React.PropTypes.func.isRequired,\n};\n\nexport default GreyFieldDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/GreyFieldDialog.component.js","import React from 'react';\nimport log from 'loglevel';\n\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport TextField from 'material-ui/TextField/TextField';\nimport {RadioButton, RadioButtonGroup} from 'material-ui/RadioButton';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditorWithOrdering.component';\n\nimport Store from 'd2-ui/lib/store/Store';\nimport Checkbox from 'material-ui/Checkbox';\n\nimport DropDown from '../forms/form-fields/drop-down';\nimport snackActions from '../Snackbar/snack.actions';\n\nimport modelToEditStore from './modelToEditStore';\nimport SelectField from 'material-ui/SelectField';\nimport { MenuItem } from 'material-ui/DropDownMenu';\n\nimport { sanitize } from 'dompurify';\n\nconst dataElementStore = Store.create();\nconst assignedDataElementStore = Store.create();\nconst indicatorStore = Store.create();\nconst assignedIndicatorStore = Store.create();\n\nconst cleanDisplayOptions = (displayOptions) => {\n    return {\n        ...displayOptions,\n        beforeSectionText: sanitize(displayOptions.beforeSectionText),\n        afterSectionText: sanitize(displayOptions.afterSectionText),\n    }\n}\n\nclass SectionDialog extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categoryCombo: false,\n            disableDataElementAutoGroup: false,\n            displayOptions: {\n                pivotMode: null,\n                pivotedCategory: null,\n            },\n            categories: [],\n        };\n        dataElementStore.setState([]);\n        assignedDataElementStore.setState([]);\n        indicatorStore.setState([]);\n        assignedIndicatorStore.setState([]);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(\n            context.d2.i18n\n        );\n    }\n\n    componentDidMount() {\n        this.subscriptions = [];\n        this.subscriptions.push(\n            assignedDataElementStore.subscribe(() => {\n                this.forceUpdate();\n            })\n        );\n\n        const d2 = this.context.d2;\n        const categoryCombos = this.props.categoryCombos\n            .map(coc => coc.value)\n            .join(',');\n\n        return d2.models.categories\n            .list({\n                filter: `categoryCombos.id:in:[${categoryCombos}]`,\n                paging: false,\n                fields: [\n                    'id,displayName',\n                    'categoryCombos[id]',\n                ].join(','),\n            })\n            .then(response => {\n                const categories = response.toArray();\n\n                this.setState({\n                    categories,\n                });\n            }).catch(err => {\n                snackActions.show({ message: 'Something went wrong.' + err, action: 'ok' });\n            })\n    }\n\n    componentWillReceiveProps(props) {\n        if (props.sectionModel) {\n            const currentSectionId = props.sectionModel.id;\n            const sections = modelToEditStore.state.sections;\n            const sectionArray = Array.isArray(sections)\n                ? sections\n                : sections.toArray();\n            const otherSections = sectionArray.filter(\n                s => s.id !== currentSectionId\n            );\n            const filterDataElementIds = otherSections.reduce(\n                (elements, section) =>\n                    elements.concat(\n                        (Array.isArray(section.dataElements)\n                            ? section.dataElements\n                            : section.dataElements.toArray()\n                        ).map(de => de.id)\n                    ),\n                []\n            );\n\n            // Default category combo filter = no filter\n            const categoryComboId = false;\n\n            assignedDataElementStore.setState(\n                props.sectionModel.dataElements\n                    ? props.sectionModel.dataElements.toArray().map(de => de.id)\n                    : []\n            );\n\n            indicatorStore.setState(\n                modelToEditStore.state.indicators\n                    .toArray()\n                    .map(i => ({ value: i.id, text: i.displayName }))\n                    .sort((a, b) => a.text.localeCompare(b.text))\n            );\n            assignedIndicatorStore.setState(\n                props.sectionModel.indicators\n                    ? props.sectionModel.indicators.toArray().map(i => i.id)\n                    : []\n            );\n\n            this.setState(\n                {\n                    name: props.sectionModel.name,\n                    code: props.sectionModel.code,\n                    nameError: '',\n                    codeError: '',\n                    description: props.sectionModel.description,\n                    showRowTotals: props.sectionModel.showRowTotals,\n                    showColumnTotals: props.sectionModel.showColumnTotals,\n                    displayOptions: props.sectionModel.displayOptions\n                        ? JSON.parse(props.sectionModel.displayOptions)\n                        : {},\n                    disableDataElementAutoGroup:\n                        props.sectionModel.disableDataElementAutoGroup,\n                    filterText: '',\n                    filterDataElementIds,\n                },\n                () => {\n                    this.handleCategoryComboChange({\n                        target: { value: categoryComboId },\n                    });\n                    this.forceUpdate();\n                }\n            );\n        }\n    }\n\n    componentWillUnmount() {\n        this.subscriptions.forEach(disposable => disposable.unsubscribe());\n    }\n\n    setAssignedDataElements = dataElements => {\n        assignedDataElementStore.setState(dataElements);\n    };\n\n    setAssignedIndicators = indicators => {\n        assignedIndicatorStore.setState(indicators);\n    };\n\n    removeIndicators = indicators => {\n        assignedIndicatorStore.setState(\n            assignedIndicatorStore.state.filter(\n                i => indicators.indexOf(i) === -1\n            )\n        );\n        return Promise.resolve();\n    };\n\n    assignIndicators = indicators => {\n        assignedIndicatorStore.setState(\n            assignedIndicatorStore.state.concat(indicators)\n        );\n        return Promise.resolve();\n    };\n\n    handleRowTotalsChange = (e, value) => {\n        this.setState({ showRowTotals: value });\n    };\n\n    handleColumnTotalsChange = (e, value) => {\n        this.setState({ showColumnTotals: value });\n    };\n\n    handleDisableDataElementAutoGroupChange = (e, value) => {\n        this.setState({ disableDataElementAutoGroup: value });\n    };\n\n    handleFilterChange = e => {\n        this.setState({ filterText: e.target.value });\n    };\n\n    handleNameChange = e => {\n        const sectionArray = Array.isArray(modelToEditStore.getState().sections)\n            ? modelToEditStore.getState().sections\n            : modelToEditStore.getState().sections.toArray();\n        const nameDupe = sectionArray\n            .filter(s => s.id !== this.props.sectionModel.id)\n            .reduce((res, s) => res || s.name === e.target.value, false);\n\n        this.setState({\n            name: e.target.value,\n            nameError: nameDupe ? this.getTranslation('value_not_unique') : '',\n        });\n    };\n\n    handleCodeChange = e => {\n        const sectionArray = Array.isArray(modelToEditStore.getState().sections)\n            ? modelToEditStore.getState().sections\n            : modelToEditStore.getState().sections.toArray();\n        const codeDupe = sectionArray\n            .filter(s => s.id !== this.props.sectionModel.id)\n            .reduce(\n                (res, s) => res || (s.code && s.code === e.target.value),\n                false\n            );\n\n        this.setState({\n            code: e.target.value,\n            codeError: codeDupe ? this.getTranslation('value_not_unique') : '',\n        });\n    };\n\n    handleDescriptionChange = e => {\n        this.setState({ description: e.target.value });\n    };\n\n    assignDataElements = dataElements => {\n        assignedDataElementStore.setState(\n            assignedDataElementStore.state.concat(dataElements)\n        );\n        return Promise.resolve();\n    };\n\n    removeDataElements = dataElements => {\n        assignedDataElementStore.setState(\n            assignedDataElementStore.state.filter(\n                de => dataElements.indexOf(de) === -1\n            )\n        );\n        return Promise.resolve();\n    };\n\n    handleCategoryComboChange = event => {\n        const categoryComboId = event.target.value;\n\n        if (modelToEditStore.state.dataSetElements) {\n            dataElementStore.setState(\n                modelToEditStore.state.dataSetElements\n                    .filter(dse => {\n                        if (categoryComboId) {\n                            return dse.categoryCombo\n                                ? dse.categoryCombo.id === categoryComboId\n                                : dse.dataElement.categoryCombo.id ===\n                                      categoryComboId;\n                        }\n                        return true;\n                    })\n                    .filter(\n                        dse =>\n                            this.state.filterDataElementIds\n                                ? !this.state.filterDataElementIds.includes(\n                                      dse.dataElement.id\n                                  )\n                                : true\n                    )\n                    .map(dse => ({\n                        value: dse.dataElement.id,\n                        text: dse.dataElement.displayName,\n                    }))\n                    .sort((a, b) => a.text.localeCompare(b.text))\n            );\n        }\n\n        this.setState({\n            categoryCombo: categoryComboId,\n        });\n    };\n\n    saveSection = () => {\n        if (!this.state.name || this.state.name.trim().length === 0) {\n            snackActions.show({\n                message: this.getTranslation('name_is_required'),\n                action: this.getTranslation('ok'),\n            });\n            return;\n        }\n\n        const sectionModel = this.props.sectionModel.id\n            ? this.props.sectionModel\n            : this.props.sectionModel.modelDefinition.create();\n        \n        const displayOptions = cleanDisplayOptions(this.state.displayOptions)\n\n        Object.assign(sectionModel, {\n            dataSet: { id: modelToEditStore.state.id },\n            name: this.state.name,\n            code: this.state.code,\n            description: this.state.description,\n            showRowTotals: this.state.showRowTotals,\n            showColumnTotals: this.state.showColumnTotals,\n            displayOptions: JSON.stringify(displayOptions),\n            disableDataElementAutoGroup: this.state.disableDataElementAutoGroup,\n            dataElements: assignedDataElementStore.state.map(de => ({\n                id: de,\n            })),\n            indicators: assignedIndicatorStore.state.map(i => ({ id: i })),\n            sortOrder:\n                this.props.sectionModel.sortOrder ||\n                modelToEditStore.state.sections\n                    .toArray()\n                    .reduce((prev, s) => Math.max(prev, s.sortOrder + 1), 0),\n        });\n        sectionModel\n            .save()\n            .then(res => {\n                snackActions.show({\n                    message: this.getTranslation('section_saved'),\n                });\n                this.context.d2.models.sections\n                    .get(res.response.uid, {\n                        fields: [\n                            ':all,dataElements[id,categoryCombo[id,displayName]]',\n                            'greyedFields[categoryOptionCombo,dataElement]',\n                        ].join(','),\n                    })\n                    .then(section => {\n                        this.props.onSaveSection(section);\n                    });\n            })\n            .catch(err => {\n                log.warn('Failed to save section:', err);\n                snackActions.show({\n                    message: this.getTranslation('failed_to_save_section'),\n                    action: this.getTranslation('ok'),\n                });\n            });\n    };\n\n    handleChoosePivotMode = (e, pivotMode) => {\n        const [firstCategory] = this.state.categories || [];\n        const categoryId = firstCategory ? firstCategory.id : null;\n        const pivotedCategory =\n            pivotMode === 'move_categories' ? categoryId : null;\n        this.setState({\n            displayOptions: {\n                ...this.state.displayOptions,\n                pivotMode,\n                pivotedCategory,\n            },\n        });\n    };\n\n    handlePivotCategoryChoice = (event, i, pivotedCategoryValue) => {\n        this.setState({\n            displayOptions: {\n                ...this.state.displayOptions,\n                pivotedCategory: pivotedCategoryValue,\n            },\n        });\n    };\n\n    handleSectionTextUpdate = (fieldName) => (ev, text) => {\n        this.setState(prevState => {\n            return {\n                displayOptions: {\n                    ...prevState.displayOptions,\n                    [fieldName]: text,\n                }\n            }\n        });\n    }\n\n    renderSectionDisplayConfigurationOptions = () => {\n        const pivotOptions = [\n            {\n                value: 'n/a',\n                text: this.getTranslation('pivot_default'),\n            },\n            {\n                value: 'pivot',\n                text: this.getTranslation('pivot_move_data_elements_to_column'),\n            },\n            {\n                value: 'move_categories',\n                text: this.getTranslation('pivot_move_category_to_row'),\n            },\n        ];\n        const isMoveCategoryMode =\n            this.state.displayOptions.pivotMode === 'move_categories';\n\n        return (\n            <div>\n                <label>{this.getTranslation('pivot_options')}</label>\n                <RadioButtonGroup\n                    onChange={this.handleChoosePivotMode}\n                    valueSelected={this.state.displayOptions.pivotMode}\n                    name=\"pivotOptions\"\n                    defaultSelected=\"n/a\"\n                >\n                    {pivotOptions.map(({ value, text }) => {\n                        return (\n                            <RadioButton\n                                key={value}\n                                value={value}\n                                label={text}\n                                style={{ margin: '10px' }}\n                            />\n                        );\n                    })}\n                </RadioButtonGroup>\n                {isMoveCategoryMode && (\n                    <SelectField\n                        style={{ marginLeft: '50px', marginTop: '-16px' }}\n                        floatingLabelFixed\n                        floatingLabelText={this.getTranslation(\n                            'pivot_category_to_move_to_row'\n                        )}\n                        value={this.state.displayOptions.pivotedCategory}\n                        onChange={this.handlePivotCategoryChoice}\n                    >\n                        {this.state.categories.map(cat => {\n                            return (\n                                <MenuItem\n                                    value={cat.id}\n                                    primaryText={cat.displayName}\n                                />\n                            );\n                        })}\n                    </SelectField>\n                )}\n                <div style={{marginTop: '16px'}}>\n                    <label>{this.getTranslation('section_text_descriptions')}</label>\n                    <TextField\n                        fullWidth\n                        hintText={this.getTranslation(\n                            'section_before_text'\n                        )}\n                        defaultValue={this.state.displayOptions.beforeSectionText}\n                        onChange={this.handleSectionTextUpdate('beforeSectionText')}\n                    />\n                    <TextField\n                        fullWidth\n                        hintText={this.getTranslation(\n                            'section_after_text'\n                        )}\n                        defaultValue={this.state.displayOptions.afterSectionText}\n                        onChange={this.handleSectionTextUpdate('afterSectionText')}\n                    />\n                </div>\n            </div>\n        );\n    };\n\n    renderFilters = () => {\n        const catCombos = [\n            { value: false, text: this.getTranslation('no_filter') },\n        ].concat(\n            this.props.categoryCombos.sort((a, b) =>\n                a.text.localeCompare(b.text)\n            )\n        );\n\n        return (\n            <div style={{ minWidth: 605 }}>\n                <DropDown\n                    options={catCombos}\n                    labelText={this.getTranslation('category_combo_filter')}\n                    onChange={this.handleCategoryComboChange}\n                    value={this.state.categoryCombo}\n                    isRequired\n                    disabled={this.props.categoryCombos.length === 1}\n                    style={{ width: 284 }}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation(\n                        'search_available_selected_items'\n                    )}\n                    defaultValue={this.state.filterText}\n                    onChange={this.handleFilterChange}\n                />\n            </div>\n        );\n    };\n\n    renderAvailableOptions = () => {\n        const labelStyle = {\n            position: 'relative',\n            display: 'block',\n            width: '100%',\n            lineHeight: '24px',\n            color: 'rgba(0,0,0,0.3)',\n            marginTop: '1.25rem',\n            fontSize: 16,\n        };\n\n        const editorStyle = {\n            marginBottom: 80,\n        };\n\n        return (\n            <div>\n                <div style={editorStyle}>\n                    <label style={labelStyle}>\n                        {this.getTranslation('data_elements')}\n                    </label>\n                    <GroupEditor\n                        itemStore={dataElementStore}\n                        assignedItemStore={assignedDataElementStore}\n                        onAssignItems={this.assignDataElements}\n                        onRemoveItems={this.removeDataElements}\n                        onOrderChanged={this.setAssignedDataElements}\n                        height={250}\n                        filterText={this.state.filterText}\n                    />\n                </div>\n                {indicatorStore.state.length ? (\n                    <div style={editorStyle}>\n                        <label style={labelStyle}>\n                            {this.getTranslation('indicators')}\n                        </label>\n                        <GroupEditor\n                            itemStore={indicatorStore}\n                            assignedItemStore={assignedIndicatorStore}\n                            onAssignItems={this.assignIndicators}\n                            onRemoveItems={this.removeIndicators}\n                            onOrderChanged={this.setAssignedIndicators}\n                            height={250}\n                            filterText={this.state.filterText}\n                        />\n                    </div>\n                ) : null}\n            </div>\n        );\n    };\n\n    render() {\n        let title = this.getTranslation('add_section');\n        let sectionIdDiv = null;\n\n        if (this.props.sectionModel.id) {\n            title = this.getTranslation('edit_section');\n            sectionIdDiv = (\n                <div\n                    style={{\n                        float: 'left',\n                        padding: 8,\n                        color: 'rgba(0,0,0,0.5)',\n                    }}\n                >\n                    {this.getTranslation('section_id')}:\n                    <span style={{ fontFamily: 'monospace' }}>\n                        {this.props.sectionModel.id}\n                    </span>\n                </div>\n            );\n        }\n\n        const validateName = e => {\n            this.setState({\n                nameError:\n                    e.target.value.trim().length > 0\n                        ? ''\n                        : this.getTranslation('value_required'),\n            });\n        };\n\n        return (\n            <Dialog\n                autoScrollBodyContent\n                title={title}\n                actions={[\n                    sectionIdDiv,\n                    <FlatButton\n                        label={this.getTranslation('cancel')}\n                        onTouchTap={this.props.onRequestClose}\n                        style={{ marginRight: 24 }}\n                    />,\n                    <RaisedButton\n                        primary\n                        label={this.getTranslation('save')}\n                        onTouchTap={this.saveSection}\n                    />,\n                ]}\n                {...this.props}\n            >\n                <TextField\n                    floatingLabelText={`${this.getTranslation('name')} *`}\n                    value={this.state.name || ''}\n                    style={{ width: '100%' }}\n                    onChange={this.handleNameChange}\n                    errorText={this.state.nameError}\n                    onBlur={validateName}\n                />\n                <TextField\n                    floatingLabelText={this.getTranslation('code')}\n                    value={this.state.code || ''}\n                    style={{ width: '100%' }}\n                    onChange={this.handleCodeChange}\n                    errorText={this.state.codeError}\n                />\n                <TextField\n                    floatingLabelText={this.getTranslation('description')}\n                    value={this.state.description || ''}\n                    style={{ width: '100%' }}\n                    multiLine\n                    onChange={this.handleDescriptionChange}\n                />\n                <Checkbox\n                    label={this.getTranslation('show_row_totals')}\n                    checked={this.state.showRowTotals}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleRowTotalsChange}\n                />\n                <Checkbox\n                    label={this.getTranslation('show_column_totals')}\n                    checked={this.state.showColumnTotals}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleColumnTotalsChange}\n                />\n                <Checkbox\n                    label={this.getTranslation(\n                        'disable_data_element_auto_group'\n                    )}\n                    checked={this.state.disableDataElementAutoGroup}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleDisableDataElementAutoGroupChange}\n                />\n                {this.renderFilters()}\n                {this.renderAvailableOptions()}\n                {this.renderSectionDisplayConfigurationOptions()}\n            </Dialog>\n        );\n    }\n}\n\nSectionDialog.propTypes = {\n    open: React.PropTypes.bool.isRequired,\n    sectionModel: React.PropTypes.any.isRequired,\n    categoryCombos: React.PropTypes.array.isRequired,\n    onRequestClose: React.PropTypes.func.isRequired,\n    onSaveSection: React.PropTypes.func.isRequired,\n};\nSectionDialog.contextTypes = {\n    d2: React.PropTypes.any.isRequired,\n};\n\nexport default SectionDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/SectionDialog.component.js"],"sourceRoot":""}